{"ast":null,"code":"var _StyledDot, _StyledChevron, _StyledCheck;\nvar _excluded = [\"value\", \"label\", \"isActive\", \"isDisabled\", \"isHovered\", \"color\", \"contentLeft\", \"items\", \"role\", \"index\", \"onClick\", \"onHover\", \"onFocus\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { useRef, useCallback, useMemo, forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { body1, accent, primary, surfaceLiquid02, surfaceLiquid03, applyDisabled, applyEllipsis, useForkRef } from '@salutejs/plasma-core';\nimport { IconChevronRight, IconDone } from '@salutejs/plasma-icons';\nimport { collectPackageInfo } from '../../collectPackageInfo';\ncollectPackageInfo('Dropdown/DropdownItem');\nvar StyledDropdownItem = /*#__PURE__*/styled.li.withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-0\"\n})([\"display:flex;flex:1;align-items:center;justify-content:flex-start;box-sizing:border-box;text-decoration:none;height:var(--plasma-dropdown-item-height,3rem);padding:var(--plasma-dropdown-item-padding,1rem);border-radius:var(--plasma-dropdown-item-border-radius,0);font-family:var(--plasma-dropdown-item-font-family,\", \");font-size:var(--plasma-dropdown-item-font-size,\", \");font-weight:var(--plasma-dropdown-item-font-weight,\", \");line-height:var(--plasma-dropdown-item-line-height,\", \");letter-spacing:var(--plasma-dropdown-item-letter-spacing,\", \");background-color:transparent;color:\", \";transition:background-color 0.3s ease-in-out;cursor:pointer;\", \" &:focus{outline:0 none;}\", \" &:active{background-color:\", \";}\", \"\"], body1.fontFamily, body1.fontSize, body1.fontWeight, body1.lineHeight, body1.letterSpacing, function (_ref) {\n  var $color = _ref.$color;\n  return $color || primary;\n}, function (_ref2) {\n  var $withAssistive = _ref2.$withAssistive,\n    $color = _ref2.$color;\n  return !$withAssistive && css([\"&:hover,&:focus{color:\", \";background-color:\", \";}\"], $color || primary, surfaceLiquid02);\n}, function (_ref3) {\n  var $hover = _ref3.$hover,\n    $color = _ref3.$color;\n  return $hover && css([\"color:\", \";background-color:\", \";\"], $color || primary, surfaceLiquid02);\n}, surfaceLiquid03, applyDisabled);\nvar StyledContent = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-1\"\n})([\"display:inline-flex;margin-right:0.375rem;\"]);\nvar StyledText = /*#__PURE__*/styled.span.withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-2\"\n})([\"\", \";margin-right:0.625rem;pointer-events:none;user-select:none;\"], applyEllipsis);\nvar StyledChevron = /*#__PURE__*/styled(IconChevronRight).withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-3\"\n})([\"margin-left:auto;pointer-events:none;margin-right:-0.25rem;\"]);\nvar StyledCheck = /*#__PURE__*/styled(IconDone).withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-4\"\n})([\"margin-left:auto;pointer-events:none;margin-right:-0.5rem;\"]);\nvar StyledDot = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-web-core__sc-sdbmry-5\"\n})([\"width:0.375rem;height:0.375rem;background-color:\", \";border-radius:50%;\"], accent);\n\n/**\n * Элемент выпадающего списка.\n */\nexport var DropdownItem = /*#__PURE__*/forwardRef(function (props, outerRef) {\n  var _items$filter;\n  var value = props.value,\n    label = props.label,\n    isActive = props.isActive,\n    isDisabled = props.isDisabled,\n    isHovered = props.isHovered,\n    color = props.color,\n    contentLeft = props.contentLeft,\n    _props$items = props.items,\n    items = _props$items === void 0 ? [] : _props$items,\n    _props$role = props.role,\n    role = _props$role === void 0 ? 'menuitem' : _props$role,\n    index = props.index,\n    onClickExternal = props.onClick,\n    onHover = props.onHover,\n    onFocus = props.onFocus,\n    rest = _objectWithoutProperties(props, _excluded);\n  var ref = useRef(null);\n  var forkRef = useForkRef(outerRef, ref);\n  var hasItems = Boolean(items.length);\n  var isActiveAsSingleOrNode = Boolean(isActive || ((_items$filter = items.filter(function (item) {\n    return item.isActive;\n  })) === null || _items$filter === void 0 ? void 0 : _items$filter.length));\n  var contentRight = useMemo(function () {\n    if (hasItems) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, isActiveAsSingleOrNode && (_StyledDot || (_StyledDot = /*#__PURE__*/React.createElement(StyledDot, null))), _StyledChevron || (_StyledChevron = /*#__PURE__*/React.createElement(StyledChevron, {\n        size: \"xs\"\n      })));\n    }\n    if (isActive) {\n      return _StyledCheck || (_StyledCheck = /*#__PURE__*/React.createElement(StyledCheck, {\n        size: \"s\",\n        color: accent\n      }));\n    }\n    return null;\n  }, [isActive, isActiveAsSingleOrNode, hasItems]);\n  var onClick = useCallback(function (event) {\n    var _ref$current;\n    event.preventDefault();\n    var targetIsItem = event.target === ref.current;\n    var targetInItem = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.contains(event.target);\n    if (value !== undefined && !isDisabled && (targetIsItem || targetInItem)) {\n      onClickExternal === null || onClickExternal === void 0 || onClickExternal({\n        value: value,\n        label: label\n      }, event);\n    }\n  }, [value, label, isDisabled, onClickExternal]);\n  var onMouseOver = useCallback(function () {\n    onHover === null || onHover === void 0 || onHover(index);\n  }, [value, label, isDisabled, onClickExternal]);\n  return /*#__PURE__*/React.createElement(StyledDropdownItem, _extends({}, rest, {\n    ref: forkRef,\n    $withAssistive: Boolean(onHover),\n    $hover: isHovered,\n    $disabled: isDisabled,\n    $color: color,\n    role: role,\n    \"aria-label\": label,\n    \"aria-disabled\": isDisabled,\n    \"aria-selected\": role === 'option' ? isActiveAsSingleOrNode : undefined,\n    onClick: onClick,\n    onMouseOver: onMouseOver,\n    onFocus: onFocus\n  }), contentLeft && /*#__PURE__*/React.createElement(StyledContent, null, contentLeft), label && /*#__PURE__*/React.createElement(StyledText, {\n    role: \"presentation\"\n  }, label), contentRight);\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}