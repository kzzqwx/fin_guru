{"ast":null,"code":"var _excluded = [\"badge\", \"media\", \"text\", \"additionalInfo\", \"price\", \"oldPrice\", \"quantity\", \"quantityStep\", \"quantityMin\", \"quantityMax\", \"onQuantityChange\", \"disabled\", \"disabledAction\", \"readonly\", \"backgroundColor\", \"periodicity\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { forwardRef, memo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { body1, blackSecondary } from '@salutejs/plasma-core';\nimport Color from 'color';\nimport { mediaQuery } from '../../utils';\nimport { Footnote1 } from '../Typography';\nimport { Card } from '../Card/Card';\nimport { CardBody } from '../Card/CardBody';\nimport { CardContent } from '../Card/CardContent';\nimport { useDeviceKind } from '../../hooks';\nimport { ProductCardStepper } from './ProductCardStepper';\nimport { ProductCardText } from './ProductCardText';\nimport { ProductCardPrice } from './ProductCardPrice';\nimport { collectPackageInfo } from '../../collectPackageInfo';\ncollectPackageInfo('ProductCard/ProductCard');\nvar StyledRoot = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-tygkir-0\"\n})([\"position:relative;\"]);\nvar StyledCard = /*#__PURE__*/styled(Card).withConfig({\n  componentId: \"plasma-ui__sc-tygkir-1\"\n})([\"height:100%;background-color:\", \";color:\", \";\"], function (_ref) {\n  var $backgroundColor = _ref.$backgroundColor;\n  return $backgroundColor;\n}, blackSecondary);\nvar StyledMediaSlot = /*#__PURE__*/memo( /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-tygkir-2\"\n})([\"height:100%;min-height:0;& img{display:block;height:100%;}\"]));\nvar getGradient = function getGradient(backgroundColor) {\n  var color = Color(backgroundColor);\n  return \"linear-gradient(\\n        180deg,\\n        \".concat(color.alpha(0).string(), \" 0%,\\n        \").concat(color.alpha(0.0156863).string(), \" 8.62%,\\n        \").concat(color.alpha(0.054902).string(), \" 16.56%,\\n        \").concat(color.alpha(0.117647).string(), \" 23.93%,\\n        \").concat(color.alpha(0.2).string(), \" 30.85%,\\n        \").concat(color.alpha(0.290196).string(), \" 37.42%,\\n        \").concat(color.alpha(0.392157).string(), \" 43.77%,\\n        \").concat(color.alpha(0.501961).string(), \" 50%,\\n        \").concat(color.alpha(0.607843).string(), \" 56.23%,\\n        \").concat(color.alpha(0.709804).string(), \" 62.58%,\\n        \").concat(color.alpha(0.8).string(), \" 69.15%,\\n        \").concat(color.alpha(0.882353).string(), \" 76.07%,\\n        \").concat(color.alpha(0.945098).string(), \" 83.44%,\\n        \").concat(color.alpha(0.984314).string(), \" 91.38%,\\n        \").concat(backgroundColor, \" 100%\\n    )\");\n};\nvar StyledCardBody = /*#__PURE__*/styled(CardBody).withConfig({\n  componentId: \"plasma-ui__sc-tygkir-3\"\n})([\"justify-content:space-between;\"]);\n\n// TODO: https://github.com/salute-developers/plasma/issues/232\nvar StyledCardContent = /*#__PURE__*/styled(CardContent).withConfig({\n  componentId: \"plasma-ui__sc-tygkir-4\"\n})([\"padding:0 0.75rem 0.75rem;border-radius:0;background-color:\", \";transition:\", \";&::after{content:'';position:absolute;top:-2.5rem;left:0;right:0;height:2.5rem;transition:\", \";background:\", \";}\", \"\"], function (_ref2) {\n  var $backgroundColor = _ref2.$backgroundColor;\n  return $backgroundColor;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.lowPerformance ? 'unset' : 'all 0.15s ease-in-out';\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.lowPerformance ? 'unset' : 'all 0.15s ease-in-out';\n}, function (_ref5) {\n  var $backgroundColor = _ref5.$backgroundColor;\n  return $backgroundColor && getGradient($backgroundColor);\n}, function (_ref6) {\n  var $isValuePositive = _ref6.$isValuePositive;\n  return $isValuePositive && css([\"margin-top:-3rem;\"]);\n});\n\n// TODO: https://github.com/salute-developers/plasma/issues/232\nvar StyledAdditionalInfo = /*#__PURE__*/memo( /*#__PURE__*/styled(Footnote1).withConfig({\n  componentId: \"plasma-ui__sc-tygkir-5\"\n})([\"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;\", \"\"], function (props) {\n  return mediaQuery('XL', props.theme.deviceScale)(css([\"\", \"\"], body1));\n}));\nvar StyledBottom = /*#__PURE__*/memo( /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-tygkir-6\"\n})([\"display:flex;align-items:center;flex-direction:column;margin-top:0.25rem;\"]));\n\n// TODO: https://github.com/salute-developers/plasma/issues/232\nvar StyledStepper = /*#__PURE__*/memo( /*#__PURE__*/styled(ProductCardStepper).withConfig({\n  componentId: \"plasma-ui__sc-tygkir-7\"\n})([\"width:100%;transition:\", \";\", \"\"], function (_ref7) {\n  var theme = _ref7.theme;\n  return theme.lowPerformance ? 'unset' : 'all 0.15s ease-in-out';\n}, function (_ref8) {\n  var $onTop = _ref8.$onTop;\n  return $onTop ? css([\"margin-top:-2.5rem;\"]) : css([\"margin-top:0.5rem;\"]);\n}));\nvar StyledBadges = /*#__PURE__*/memo( /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-tygkir-8\"\n})([\"position:absolute;top:0.5rem;left:0.5rem;z-index:1;display:flex;flex-wrap:wrap;gap:0.25rem;max-width:calc(100% - 0.75rem);\"]));\n\n/**\n * Карточка продукта с возможностью указания картинки, текста, цены и выбора количества.\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport var ProductCard = /*#__PURE__*/forwardRef(function ProductCard(_ref9, ref) {\n  var badge = _ref9.badge,\n    media = _ref9.media,\n    text = _ref9.text,\n    additionalInfo = _ref9.additionalInfo,\n    price = _ref9.price,\n    oldPrice = _ref9.oldPrice,\n    quantity = _ref9.quantity,\n    quantityStep = _ref9.quantityStep,\n    quantityMin = _ref9.quantityMin,\n    quantityMax = _ref9.quantityMax,\n    onQuantityChange = _ref9.onQuantityChange,\n    disabled = _ref9.disabled,\n    disabledAction = _ref9.disabledAction,\n    readonly = _ref9.readonly,\n    _ref9$backgroundColor = _ref9.backgroundColor,\n    backgroundColor = _ref9$backgroundColor === void 0 ? '#FFFFFF' : _ref9$backgroundColor,\n    periodicity = _ref9.periodicity,\n    rest = _objectWithoutProperties(_ref9, _excluded);\n  var _useDeviceKind = useDeviceKind(),\n    isSberBox = _useDeviceKind.isSberBox;\n  var isReadonly = isSberBox || readonly;\n  var tabIndex = isSberBox ? 0 : -1;\n  return /*#__PURE__*/React.createElement(StyledRoot, null, badge && /*#__PURE__*/React.createElement(StyledBadges, null, badge), /*#__PURE__*/React.createElement(StyledCard, _extends({}, rest, {\n    ref: ref,\n    tabIndex: tabIndex,\n    outlined: isSberBox,\n    disabled: disabled,\n    $backgroundColor: backgroundColor\n  }), /*#__PURE__*/React.createElement(StyledCardBody, null, media && /*#__PURE__*/React.createElement(StyledMediaSlot, null, media), /*#__PURE__*/React.createElement(StyledCardContent, {\n    $isValuePositive: !isReadonly && !!quantity && quantity > 0,\n    $backgroundColor: backgroundColor\n  }, /*#__PURE__*/React.createElement(ProductCardText, {\n    text: text\n  }), additionalInfo && /*#__PURE__*/React.createElement(StyledAdditionalInfo, null, additionalInfo), (price !== undefined || quantity !== undefined) && /*#__PURE__*/React.createElement(StyledBottom, null, /*#__PURE__*/React.createElement(ProductCardPrice, {\n    price: price,\n    oldPrice: oldPrice,\n    periodicity: periodicity\n  }), !disabled && quantity !== undefined && /*#__PURE__*/React.createElement(StyledStepper, {\n    readonly: isReadonly,\n    value: quantity,\n    step: quantityStep,\n    min: quantityMin,\n    max: quantityMax,\n    onChange: onQuantityChange,\n    $onTop: isReadonly || price !== undefined && quantity === 0,\n    disabled: disabledAction || disabled\n  }))))));\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}