{"ast":null,"code":"var _IconTrashFilled;\nvar _excluded = [\"items\", \"maxHeight\", \"status\", \"message\", \"interactionType\", \"actionIcon\", \"itemSize\", \"maxCount\", \"disabled\", \"onItemsSortEnd\", \"onItemAction\", \"onItemClick\", \"onValidation\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport { IconTrashFilled } from '@salutejs/plasma-icons';\nimport { Upload } from '../Upload';\nimport { PreviewGallery } from '../PreviewGallery';\nimport { StyledRoot as StyledPreviewGallery } from '../PreviewGallery/PreviewGalleryItems';\nimport { collectPackageInfo } from '../../collectPackageInfo';\ncollectPackageInfo('UploadVisual/UploadVisual');\nexport var StyledRoot = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-web-core__sc-1lmzejj-0\"\n})([\"\", \"{margin-top:0.5rem;}\"], StyledPreviewGallery);\n\n/**\n * Комплексный компонент для загрузки изображений/видео с превью галереей.\n */\nexport var UploadVisual = function UploadVisual(_ref) {\n  var _ref$items = _ref.items,\n    items = _ref$items === void 0 ? [] : _ref$items,\n    maxHeight = _ref.maxHeight,\n    status = _ref.status,\n    message = _ref.message,\n    interactionType = _ref.interactionType,\n    actionIcon = _ref.actionIcon,\n    itemSize = _ref.itemSize,\n    maxCount = _ref.maxCount,\n    disabled = _ref.disabled,\n    onItemsSortEnd = _ref.onItemsSortEnd,\n    onItemAction = _ref.onItemAction,\n    onItemClick = _ref.onItemClick,\n    onValidation = _ref.onValidation,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var acceptExtensions = '.avi,.mp4,.bmg,.png,.jpg,.jpeg';\n  var content = 'Загрузите фото или видео';\n  var isDisabled = useMemo(function () {\n    return disabled !== undefined ? disabled : Boolean(maxCount !== undefined && maxCount <= items.length);\n  }, [disabled, maxCount, items]);\n  return /*#__PURE__*/React.createElement(StyledRoot, null, /*#__PURE__*/React.createElement(Upload, _extends({\n    disabled: isDisabled,\n    accept: acceptExtensions,\n    content: content,\n    message: message,\n    status: status,\n    onValidation: onValidation\n  }, rest)), /*#__PURE__*/React.createElement(PreviewGallery, {\n    items: items,\n    itemSize: itemSize,\n    actionIcon: actionIcon || _IconTrashFilled || (_IconTrashFilled = /*#__PURE__*/React.createElement(IconTrashFilled, {\n      size: \"xs\",\n      color: \"inherit\"\n    })),\n    interactionType: interactionType,\n    onItemAction: onItemAction,\n    onItemClick: onItemClick,\n    onItemsSortEnd: onItemsSortEnd,\n    maxHeight: maxHeight\n  }));\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}