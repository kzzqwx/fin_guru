{"ast":null,"code":"var _NoScroll;\nvar _excluded = [\"isOpen\", \"children\", \"onClose\", \"withOverlay\", \"withTransition\", \"throttleMs\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport React from 'react';\nimport styled, { css, createGlobalStyle } from 'styled-components';\nimport { overlay, white, backgroundPrimary } from '@salutejs/plasma-tokens';\nimport { useSheetSwipe } from './useSheetSwipe';\nimport { collectPackageInfo } from '../../collectPackageInfo';\ncollectPackageInfo('Sheet/Sheet');\nvar handleTransition = function handleTransition(transition) {\n  return function (props) {\n    var lowPerformance = props.theme.lowPerformance,\n      withTransition = props.withTransition;\n    return !withTransition || lowPerformance ? 'unset' : transition;\n  };\n};\nvar NoScroll = /*#__PURE__*/createGlobalStyle([\"body{overflow:hidden;}\"]);\nvar StyledWrapper = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-1c9dnkw-0\"\n})([\"position:fixed;top:0;bottom:0;left:0;right:0;opacity:1;transition:\", \";z-index:1000;\", \"\"], /*#__PURE__*/handleTransition('all 0.5s 0.1s'), function (_ref) {\n  var isOpen = _ref.isOpen;\n  return !isOpen && css([\"opacity:0;visibility:hidden;\"]);\n});\nvar StyledContentWrapper = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-1c9dnkw-1\"\n})([\"position:absolute;left:0;bottom:0;width:100%;max-height:100%;z-index:1;display:flex;flex-direction:column;justify-content:flex-end;transition:\", \";\", \"\"], /*#__PURE__*/handleTransition('transform 0.5s'), function (_ref2) {\n  var isOpen = _ref2.isOpen;\n  return !isOpen && css([\"transform:translateY(100%);\"]);\n});\nvar StyledOverlay = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-1c9dnkw-2\"\n})([\"position:absolute;top:0;left:0;width:100%;height:100%;background-color:\", \";\"], function (_ref3) {\n  var withOverlay = _ref3.withOverlay;\n  return withOverlay ? overlay : 'transparent';\n});\nvar StyledSheetContent = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-1c9dnkw-3\"\n})([\"border-radius:1.5rem 1.5rem 0 0;background-color:\", \";padding:1rem;max-height:100%;overflow:auto;overscroll-behavior:contain;&::-webkit-scrollbar{display:none;}\"], backgroundPrimary);\nvar StyledSheetHandle = /*#__PURE__*/styled.div.withConfig({\n  componentId: \"plasma-ui__sc-1c9dnkw-4\"\n})([\"width:4rem;padding:1.75rem 0;margin:-1.5rem 0;opacity:0.65;align-self:center;&::before{content:'';display:block;border-radius:0.625rem;background-color:\", \";opacity:0.96;height:0.25rem;}\"], white);\n\n/**\n * Открывает окно-шторку поверх основного экрана.\n * Только для приложения Салют.\n */\nexport var Sheet = function Sheet(_ref4) {\n  var isOpen = _ref4.isOpen,\n    children = _ref4.children,\n    onClose = _ref4.onClose,\n    _ref4$withOverlay = _ref4.withOverlay,\n    withOverlay = _ref4$withOverlay === void 0 ? true : _ref4$withOverlay,\n    _ref4$withTransition = _ref4.withTransition,\n    withTransition = _ref4$withTransition === void 0 ? true : _ref4$withTransition,\n    throttleMs = _ref4.throttleMs,\n    restProps = _objectWithoutProperties(_ref4, _excluded);\n  var contentWrapperRef = React.useRef(null);\n  var contentRef = React.useRef(null);\n  var handleRef = React.useRef(null);\n  useSheetSwipe({\n    contentWrapperRef: contentWrapperRef,\n    contentRef: contentRef,\n    handleRef: handleRef,\n    throttleMs: throttleMs,\n    onClose: onClose\n  });\n  return /*#__PURE__*/React.createElement(StyledWrapper, _extends({\n    isOpen: isOpen,\n    withTransition: withTransition\n  }, restProps), isOpen && (_NoScroll || (_NoScroll = /*#__PURE__*/React.createElement(NoScroll, null))), /*#__PURE__*/React.createElement(StyledContentWrapper, {\n    isOpen: isOpen,\n    withTransition: withTransition,\n    ref: contentWrapperRef\n  }, /*#__PURE__*/React.createElement(StyledSheetHandle, {\n    ref: handleRef\n  }), /*#__PURE__*/React.createElement(StyledSheetContent, {\n    ref: contentRef\n  }, children)), /*#__PURE__*/React.createElement(StyledOverlay, {\n    withOverlay: withOverlay,\n    onClick: onClose\n  }));\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}