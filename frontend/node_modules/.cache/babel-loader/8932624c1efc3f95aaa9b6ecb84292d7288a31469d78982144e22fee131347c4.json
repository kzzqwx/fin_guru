{"ast":null,"code":"var _jsxFileName = \"/Users/amina/frontend-last/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Headline3, Headline4, Card, CardContent, Cell, TextBox, TextBoxTitle, TextBoxBigTitle, TextBoxSubTitle, useToast, CellListItem, Header, Button, ToastProvider, ActionButton, Container, TextBoxBiggerTitle, Price, ParagraphText1 } from '@salutejs/plasma-ui';\nimport { Modal, Select, TextField } from \"@salutejs/plasma-web\";\nimport './style.css';\nimport axios from \"axios\";\nimport { createAssistant, createSmartappDebugger } from '@salutejs/client';\nimport { ToastForm } from \"./components/ToastForm\";\nimport { MyHeader } from \"./components/MyHeader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function App() {\n  _s();\n  //Assistant\n  // const [transactions, setTransactions] = useState([\n  //     { id: Math.random().toString(36).substring(7), type: 'expense', name: 'Groceries', сategory: 'Food', amount: 50, date: new Date().toISOString() },\n  //     { id: Math.random().toString(36).substring(7), type: 'income', name: 'Salary', category: 'Job', amount: 1000, date: new Date().toISOString() }\n  // ]);\n  const [expense, setExpense] = useState([{\n    user_id: \"\",\n    tag_id: null,\n    name: null,\n    date: null,\n    amount: null,\n    transaction_id: null\n  }]);\n  const [income, setIncome] = useState([{\n    user_id: \"\",\n    tag_id: null,\n    name: null,\n    date: null,\n    amount: null,\n    transaction_id: null\n  }]);\n  let assistant;\n  const initializeAssistant = getState => {\n    if (process.env.NODE_ENV === 'development') {\n      var _process$env$REACT_AP;\n      return createSmartappDebugger({\n        token: (_process$env$REACT_AP = process.env.REACT_APP_TOKEN) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : '',\n        initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n        getState,\n        // getRecoveryState: getState,\n        nativePanel: {\n          defaultText: '',\n          screenshotMode: false,\n          tabIndex: -1\n        }\n      });\n    } else {\n      return createAssistant({\n        getState\n      });\n    }\n  };\n  function getStateForAssistant() {\n    //console.log('getStateForAssistant: transactions:', transactions);\n\n    const state = {\n      item_selector: {\n        items: expense.map(({\n          tag_id,\n          name,\n          date,\n          amount\n        }) => ({\n          tag_id,\n          name,\n          date,\n          amount\n        })),\n        ignored_words: ['добавить', 'установить', 'запиши', 'поставь', 'закинь', 'напомнить', 'удалить', 'удали', 'рубли', 'рублей']\n      }\n    };\n    console.log('getStateForAssistant: state:', state);\n    return state;\n  }\n  const capitalizeFirstLetter = string => {\n    if (!string) return '';\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n  const formatDate = date => {\n    const {\n      day,\n      month,\n      year\n    } = date;\n    const formattedDay = String(day).padStart(2, '0');\n    const formattedMonth = String(month).padStart(2, '0');\n    return `${year}-${formattedMonth}-${formattedDay}`;\n  };\n  const getValueByLabelExp = label => {\n    const item = items_Expense.find(item => item.label === label);\n    return item ? item.value : null;\n  };\n  const getValueByLabelInc = label => {\n    const item = items_Income.find(item => item.label === label);\n    return item ? item.value : null;\n  };\n  const add_expense = async action => {\n    console.log('add_expense', action);\n    const user_id = 1;\n    const data = {\n      tag_id: getValueByLabelExp(capitalizeFirstLetter(action.tag_id)),\n      name: action.name,\n      date: formatDate(action.date),\n      amount: parseFloat(action.amount)\n    };\n    if (action.tag_id === null) {\n      throw new Error(`Tag with label \"${action.tag_id}\" not found`);\n    }\n    await axios.post(`http://45.147.177.32:8000/api/v1/finance/expense?user_id=${user_id}`, data);\n    fetchDataAll(); // Обновляем списки транзакций после успешного добавления\n    console.log(data);\n  };\n  const add_income = async action => {\n    console.log('add_income', action);\n    const user_id = 1;\n    const data = {\n      tag_id: getValueByLabelInc(capitalizeFirstLetter(action.tag_id)),\n      name: action.name,\n      date: formatDate(action.date),\n      amount: parseFloat(action.amount)\n    };\n    if (action.tag_id === null) {\n      throw new Error(`Tag with label \"${action.tag_id}\" not found`);\n    }\n    await axios.post(`http://45.147.177.32:8000/api/v1/finance/income?user_id=${user_id}`, data);\n    fetchDataAll(); // Обновляем списки транзакций после успешного добавления\n    console.log(data);\n  };\n  function delete_expense(action) {\n    const user_id = 1;\n    const transactionId = action.transaction_id;\n    axios.delete(`http://45.147.177.32:8000/api/v1/finance/expense/delete/${transactionId}?user_id=${user_id}`);\n    fetchDataAll();\n  }\n  function delete_income(action) {\n    const user_id = 1;\n    const transactionId = action.transaction_id;\n    axios.delete(`http://45.147.177.32:8000/api/v1/finance/income/delete/${transactionId}?user_id=${user_id}`);\n    fetchDataAll();\n  }\n  const dispatchAssistantAction = action => {\n    console.log('dispatchAssistantAction', action);\n    if (action) {\n      switch (action.type) {\n        case 'add_expense':\n          return add_expense(action);\n        case 'initialize_user':\n          this.setState({\n            user_id: action.id,\n            characterID: action.characterID\n          });\n        case 'add_income':\n          return add_income(action);\n        case 'delete_expense':\n          return delete_expense(action);\n        case 'delete_income':\n          return delete_income(action);\n        default:\n          throw new Error(`Unknown action type: ${action.type}`);\n      }\n    }\n  };\n  useEffect(() => {\n    console.log('componentDidMount');\n    assistant = initializeAssistant(() => getStateForAssistant());\n    assistant.on('data', event => {\n      console.log('assistant.on(data)', event);\n      if (event.type === 'character') {\n        var _event$character;\n        console.log(`assistant.on(data): character: \"${event === null || event === void 0 ? void 0 : (_event$character = event.character) === null || _event$character === void 0 ? void 0 : _event$character.id}\"`);\n      } else if (event.type === 'insets') {\n        console.log('assistant.on(data): insets');\n      } else {\n        const {\n          action\n        } = event;\n        dispatchAssistantAction(action);\n      }\n    });\n    assistant.on('start', event => {\n      let initialData = assistant.getInitialData();\n      console.log(`assistant.on(start)`, event, initialData);\n    });\n    assistant.on('command', event => {\n      console.log(`assistant.on(command)`, event);\n    });\n    assistant.on('error', event => {\n      console.log(`assistant.on(error)`, event);\n    });\n    assistant.on('tts', event => {\n      console.log(`assistant.on(tts)`, event);\n    });\n  }, []);\n  function _send_action_value(action_id, value) {\n    const data = {\n      action: {\n        action_id: action_id,\n        parameters: {\n          value: value\n        }\n      }\n    };\n    const unsubscribe = this.assistant.sendData(data, data => {\n      const {\n        type,\n        payload\n      } = data;\n      console.log('sendData onData:', type, payload);\n      unsubscribe();\n    });\n  }\n\n  //Expense\n  const [isExpenseOpen, setIsExpenseOpen] = React.useState(false);\n  const closeExpense = React.useCallback(() => {\n    setIsExpenseOpen(false);\n  });\n  const [dateInputExpense, setDateInputExpense] = React.useState('');\n  const [dateExpense, setDateExpense] = useState('');\n  const [nameExpense, setNameExpense] = useState('');\n  const [amountExpense, setAmountExpense] = useState('');\n  const handleNameChangeExpense = e => {\n    setNameExpense(e.target.value);\n  };\n  const handleAmountChangeExpense = e => {\n    setAmountExpense(e.target.value);\n  };\n  const handleDateChangeExpense = e => {\n    setDateInputExpense(e.target.value);\n  };\n  // написать подсказку в ассистенте\n  const items_Expense = [{\n    value: 1,\n    label: 'Одежда'\n  }, {\n    value: 2,\n    label: 'Продукты'\n  }, {\n    value: 3,\n    label: 'Дом'\n  }, {\n    value: 4,\n    label: 'Рестораны'\n  }, {\n    value: 5,\n    label: 'Услуги'\n  }, {\n    value: 6,\n    label: 'Развлечения'\n  }, {\n    value: 7,\n    label: 'Иное'\n  }];\n\n  //Income\n  const [isIncomeOpen, setIsIncomeOpen] = React.useState(false);\n  const closeIncome = React.useCallback(() => {\n    setIsIncomeOpen(false);\n  });\n  const [dateInputIncome, setDateInputIncome] = React.useState('');\n  const [dateIncome, setDateIncome] = useState(null);\n  const [nameIncome, setNameIncome] = useState('');\n  const [amountIncome, setAmountIncome] = useState('');\n  const handleNameChangeIncome = e => {\n    setNameIncome(e.target.value);\n  };\n  const handleAmountChangeIncome = e => {\n    setAmountIncome(e.target.value);\n  };\n  const handleDateChangeIncome = e => {\n    setDateInputIncome(e.target.value);\n  };\n  const items_Income = [{\n    value: 1,\n    label: 'Зарплата'\n  }, {\n    value: 2,\n    label: 'Подарок'\n  }, {\n    value: 3,\n    label: 'Иной доход'\n  }];\n\n  //Connect backend\n  const [expenseTransactions, setExpenseTransactions] = useState([]);\n  const [incomeTransactions, setIncomeTransactions] = useState([]);\n  const fetchDataAll = () => {\n    const user_id = 1;\n    axios.get('http://45.147.177.32:8000/api/v1/finance', {\n      params: {\n        user_id: user_id\n      }\n    }).then(response => {\n      setExpenseTransactions(response.data.transactions.expense);\n      setIncomeTransactions(response.data.transactions.income);\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  };\n  useEffect(() => {\n    fetchDataAll();\n  }, []);\n  const getLabelByValueExpense = value => {\n    const item = items_Expense.find(item => item.value === value);\n    return item ? item.label : 'Неизвестно';\n  };\n\n  //ExpenceForm\n  const handleSubmitExpense = async () => {\n    const user_id = 1;\n    const data = {\n      tag_id: dateExpense,\n      name: nameExpense,\n      date: dateInputExpense,\n      amount: parseFloat(amountExpense)\n    };\n    try {\n      await axios.post(`http://45.147.177.32:8000/api/v1/finance/expense?user_id=${user_id}`, data);\n      closeExpense();\n      fetchDataAll();\n      setDateInputExpense('');\n      setDateExpense('');\n      setNameExpense('');\n      setAmountExpense('');\n    } catch (error) {\n      console.error(\"There was an error creating the expense!\", error, data);\n    }\n  };\n\n  //IncomeForm\n  const handleSubmitIncome = async () => {\n    const user_id = 1;\n    const data = {\n      tag_id: dateIncome,\n      name: nameIncome,\n      date: dateInputIncome,\n      amount: parseFloat(amountIncome)\n    };\n    try {\n      await axios.post(`http://45.147.177.32:8000/api/v1/finance/income?user_id=${user_id}`, data);\n      closeIncome();\n      fetchDataAll();\n      setDateInputIncome('');\n      setDateIncome('');\n      setNameIncome('');\n      setAmountIncome('');\n    } catch (error) {\n      console.error(\"error creating the income\", error, data);\n    }\n  };\n  const getLabelByValueIncome = value => {\n    const item = items_Income.find(item => item.value === value);\n    return item ? item.label : 'Неизвестно';\n  };\n\n  //Edit\n  const [isEditOpen, setIsEditOpen] = React.useState(false);\n  const closeEdit = React.useCallback(() => {\n    setIsEditOpen(false);\n  });\n  const [idEdit, setIdEdit] = useState('');\n  const handleIdEdit = e => {\n    setIdEdit(e.target.value);\n  };\n  const [dateEdit, setDateEdit] = React.useState('');\n  const [nameEdit, setNameEdit] = useState('');\n  const [amountEdit, setAmountEdit] = useState('');\n  const handleNameEdit = e => {\n    setNameEdit(e.target.value);\n  };\n  const handleAmountEdit = e => {\n    setAmountEdit(e.target.value);\n  };\n  const handleDateEdit = e => {\n    setDateEdit(e.target.value);\n  };\n  const handleEdit = async () => {\n    const user_id = 1;\n    const new_data = {\n      tag_id: 0,\n      name: nameEdit,\n      type: operationType,\n      date: dateEdit,\n      amount: parseFloat(amountEdit)\n    };\n    try {\n      await axios.put(`http://45.147.177.32:8000/api/v1/finance/${operationType}/update/${idEdit}?user_id=${user_id}`, new_data);\n      fetchDataAll();\n      setIdEdit('');\n      setOperationType('');\n      setNameEdit('');\n      setAmountEdit('');\n      closeEdit();\n    } catch (error) {\n      console.error(\"There was an error creating the income!\", error, new_data);\n    }\n  };\n\n  //Delete\n  const [isDeleteOpen, setIsDeleteOpen] = React.useState(false);\n  const closeDelete = React.useCallback(() => {\n    setIsDeleteOpen(false);\n  });\n  const [operationType, setOperationType] = useState('');\n  const options_delete = [{\n    value: 'income',\n    label: 'Доходы'\n  }, {\n    value: 'expense',\n    label: 'Расходы'\n  }];\n  const handleOperationType = e => {\n    setOperationType(e.target.value);\n  };\n  const [idOperation, setIdOperation] = useState('');\n  const handleIdOperation = e => {\n    setIdOperation(e.target.value);\n  };\n  const handleDelete = async () => {\n    const user_id = 1;\n    try {\n      axios.delete(`http://45.147.177.32:8000/api/v1/finance/${operationType}/delete/${idOperation}?user_id=${user_id}`);\n    } catch (error) {\n      console.error(error);\n    }\n    setIdOperation('');\n    setOperationType('');\n    closeDelete();\n    fetchDataAll();\n  };\n\n  //sum\n  const [totalExpense, setTotalExpense] = useState(0);\n  const [totalIncome, setTotalIncome] = useState(0);\n  useEffect(() => {\n    const calculateTotalExpense = () => {\n      const total = expenseTransactions.reduce((sum, transaction) => sum + transaction.amount, 0);\n      setTotalExpense(total);\n    };\n    const calculateTotalIncome = () => {\n      const total = incomeTransactions.reduce((sum, transaction) => sum + transaction.amount, 0);\n      setTotalIncome(total);\n    };\n    calculateTotalExpense();\n    calculateTotalIncome();\n  }, [expenseTransactions, incomeTransactions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(ToastProvider, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-header\",\n        children: /*#__PURE__*/_jsxDEV(MyHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons-bar\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"button-bar-button\",\n          size: \"l\",\n          pin: \"circle-circle\",\n          text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434\\u044B\",\n          onClick: () => setIsExpenseOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"scrollable-content\",\n          isOpen: isExpenseOpen,\n          onClose: closeExpense,\n          children: [/*#__PURE__*/_jsxDEV(Headline3, {\n            mb: 20,\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"\\u041E\\u0431\\u044A\\u0435\\u043A\\u0442\",\n            value: nameExpense,\n            onChange: handleNameChangeExpense\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0422\\u0438\\u043F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            required: \"true\",\n            value: dateExpense,\n            items: items_Expense,\n            onChange: setDateExpense,\n            placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435...\",\n            status: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",\n            type: \"number\",\n            value: amountExpense,\n            onChange: handleAmountChangeExpense\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            type: \"date\",\n            value: dateInputExpense,\n            onChange: handleDateChangeExpense\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            m: 10,\n            stretch: \"true\",\n            text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n            onClick: handleSubmitExpense,\n            className: \"button-bar-modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button-bar-button\",\n          size: \"l\",\n          pin: \"circle-circle\",\n          text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u0445\\u043E\\u0434\\u044B\",\n          onClick: () => setIsIncomeOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"scrollable-content\",\n          isOpen: isIncomeOpen,\n          onClose: closeIncome,\n          children: [/*#__PURE__*/_jsxDEV(Headline3, {\n            mb: 20,\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u0445\\u043E\\u0434\\u044B \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"\\u041E\\u0431\\u044A\\u0435\\u043A\\u0442\",\n            required: \"true\",\n            value: nameIncome,\n            onChange: handleNameChangeIncome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0422\\u0438\\u043F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            required: \"true\",\n            value: dateIncome,\n            items: items_Income,\n            onChange: setDateIncome,\n            placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435...\",\n            status: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0421\\u0443\\u043C\\u043C\\u0430:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",\n            type: \"number\",\n            value: amountIncome,\n            onChange: handleAmountChangeIncome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u0437\\u0430\\u0447\\u0438\\u0441\\u043B\\u0435\\u043D\\u0438\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            type: \"date\",\n            value: dateInputIncome,\n            onChange: handleDateChangeIncome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            stretch: \"true\",\n            text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n            onClick: handleSubmitIncome,\n            className: \"button-bar-modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button-bar-button\",\n          size: \"l\",\n          pin: \"circle-circle\",\n          text: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\",\n          onClick: () => setIsEditOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"scrollable-content\",\n          isOpen: isEditOpen,\n          onClose: closeEdit,\n          children: [/*#__PURE__*/_jsxDEV(Headline3, {\n            mb: 20,\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0418\\u0437 \\u043A\\u0430\\u043A\\u043E\\u0433\\u043E \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            required: \"true\",\n            value: operationType,\n            items: options_delete,\n            onChange: setOperationType,\n            placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435...\",\n            status: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 id \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"Id\",\n            type: \"number\",\n            value: idEdit,\n            onChange: handleIdEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"\\u041E\\u0431\\u044A\\u0435\\u043A\\u0442\",\n            required: \"true\",\n            value: nameEdit,\n            onChange: handleNameEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",\n            type: \"number\",\n            value: amountEdit,\n            onChange: handleAmountEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            type: \"date\",\n            value: dateEdit,\n            onChange: handleDateEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"button-bar-modal\",\n            stretch: \"true\",\n            text: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\",\n            onClick: handleEdit,\n            className: \"button-bar-modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button-bar-button\",\n          size: \"l\",\n          pin: \"circle-circle\",\n          text: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\",\n          onClick: () => setIsDeleteOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"scrollable-content\",\n          isOpen: isDeleteOpen,\n          onClose: closeDelete,\n          children: [/*#__PURE__*/_jsxDEV(Headline3, {\n            mb: 20,\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0418\\u0437 \\u043A\\u0430\\u043A\\u043E\\u0433\\u043E \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            required: \"true\",\n            value: operationType,\n            items: options_delete,\n            onChange: setOperationType,\n            placeholder: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435...\",\n            status: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ParagraphText1, {\n            mt: 10,\n            mb: 10,\n            children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 id \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: \"true\",\n            placeholder: \"Id\",\n            type: \"number\",\n            value: idOperation,\n            onChange: handleIdOperation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"button-bar-modal\",\n            stretch: \"true\",\n            text: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",\n            onClick: handleDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ToastForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards-row\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"cards-row-card\",\n          style: {\n            maxHeight: '22.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Cell, {\n            className: \"name-list\",\n            content: /*#__PURE__*/_jsxDEV(TextBoxBigTitle, {\n              children: \"\\u0420\\u0430\\u0441\\u0445\\u043E\\u0434\\u044B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 66\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"scrollable-content\",\n            compact: true,\n            children: expenseTransactions.slice().reverse().map((transaction, index) => /*#__PURE__*/_jsxDEV(CellListItem, {\n              content: /*#__PURE__*/_jsxDEV(TextBox, {\n                children: [/*#__PURE__*/_jsxDEV(TextBoxTitle, {\n                  children: transaction.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-notes\",\n                  children: [/*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"Id: \", transaction.transaction_id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0414\\u0430\\u0442\\u0430: \", transaction.date]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0421\\u0443\\u043C\\u043C\\u0430: \", /*#__PURE__*/_jsxDEV(Price, {\n                      currency: \"rub\",\n                      stroke: false,\n                      children: transaction.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 77\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0422\\u0438\\u043F: \", getLabelByValueExpense(transaction.tag_id), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 45\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cards-row-card\",\n          style: {\n            maxHeight: '22.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Cell, {\n            className: \"name-list\",\n            content: /*#__PURE__*/_jsxDEV(TextBoxBigTitle, {\n              children: \"\\u0414\\u043E\\u0445\\u043E\\u0434\\u044B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 65\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"scrollable-content\",\n            compact: true,\n            children: incomeTransactions.slice().reverse().map((transaction, index) => /*#__PURE__*/_jsxDEV(CellListItem, {\n              content: /*#__PURE__*/_jsxDEV(TextBox, {\n                children: [/*#__PURE__*/_jsxDEV(TextBoxTitle, {\n                  children: transaction.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-notes\",\n                  children: [/*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"Id: \", transaction.transaction_id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0414\\u0430\\u0442\\u0430: \", transaction.date]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0421\\u0443\\u043C\\u043C\\u0430: \", /*#__PURE__*/_jsxDEV(Price, {\n                      currency: \"rub\",\n                      stroke: false,\n                      children: transaction.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 77\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(TextBoxSubTitle, {\n                    children: [\"\\u0422\\u0438\\u043F: \", getLabelByValueIncome(transaction.tag_id), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 45\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cards-row-card sum-card\",\n          children: [/*#__PURE__*/_jsxDEV(CardContent, {\n            compact: true,\n            children: [/*#__PURE__*/_jsxDEV(Cell, {\n              content: /*#__PURE__*/_jsxDEV(TextBoxBigTitle, {\n                children: \"\\u041E\\u0431\\u0449\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434\\u043E\\u0432: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Cell, {\n              content: /*#__PURE__*/_jsxDEV(TextBoxBiggerTitle, {\n                children: /*#__PURE__*/_jsxDEV(Price, {\n                  currency: \"rub\",\n                  stroke: false,\n                  children: totalExpense\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 66\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 46\n              }, this),\n              alignRight: \"center\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            compact: true,\n            children: [/*#__PURE__*/_jsxDEV(Cell, {\n              content: /*#__PURE__*/_jsxDEV(TextBoxBigTitle, {\n                children: \"\\u041E\\u0431\\u0449\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u0434\\u043E\\u0445\\u043E\\u0434\\u043E\\u0432: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Cell, {\n              content: /*#__PURE__*/_jsxDEV(TextBoxBiggerTitle, {\n                children: /*#__PURE__*/_jsxDEV(Price, {\n                  currency: \"rub\",\n                  stroke: false,\n                  children: totalIncome\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 66\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 46\n              }, this),\n              alignRight: \"center\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 13\n  }, this);\n}\n_s(App, \"6sD6ZztHcnVkPALrby/G2nRcZxY=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Headline3","Headline4","Card","CardContent","Cell","TextBox","TextBoxTitle","TextBoxBigTitle","TextBoxSubTitle","useToast","CellListItem","Header","Button","ToastProvider","ActionButton","Container","TextBoxBiggerTitle","Price","ParagraphText1","Modal","Select","TextField","axios","createAssistant","createSmartappDebugger","ToastForm","MyHeader","jsxDEV","_jsxDEV","App","_s","expense","setExpense","user_id","tag_id","name","date","amount","transaction_id","income","setIncome","assistant","initializeAssistant","getState","process","env","NODE_ENV","_process$env$REACT_AP","token","REACT_APP_TOKEN","initPhrase","REACT_APP_SMARTAPP","nativePanel","defaultText","screenshotMode","tabIndex","getStateForAssistant","state","item_selector","items","map","ignored_words","console","log","capitalizeFirstLetter","string","charAt","toUpperCase","slice","formatDate","day","month","year","formattedDay","String","padStart","formattedMonth","getValueByLabelExp","label","item","items_Expense","find","value","getValueByLabelInc","items_Income","add_expense","action","data","parseFloat","Error","post","fetchDataAll","add_income","delete_expense","transactionId","delete","delete_income","dispatchAssistantAction","type","setState","id","characterID","on","event","_event$character","character","initialData","getInitialData","_send_action_value","action_id","parameters","unsubscribe","sendData","payload","isExpenseOpen","setIsExpenseOpen","closeExpense","useCallback","dateInputExpense","setDateInputExpense","dateExpense","setDateExpense","nameExpense","setNameExpense","amountExpense","setAmountExpense","handleNameChangeExpense","e","target","handleAmountChangeExpense","handleDateChangeExpense","isIncomeOpen","setIsIncomeOpen","closeIncome","dateInputIncome","setDateInputIncome","dateIncome","setDateIncome","nameIncome","setNameIncome","amountIncome","setAmountIncome","handleNameChangeIncome","handleAmountChangeIncome","handleDateChangeIncome","expenseTransactions","setExpenseTransactions","incomeTransactions","setIncomeTransactions","get","params","then","response","transactions","catch","error","getLabelByValueExpense","handleSubmitExpense","handleSubmitIncome","getLabelByValueIncome","isEditOpen","setIsEditOpen","closeEdit","idEdit","setIdEdit","handleIdEdit","dateEdit","setDateEdit","nameEdit","setNameEdit","amountEdit","setAmountEdit","handleNameEdit","handleAmountEdit","handleDateEdit","handleEdit","new_data","operationType","put","setOperationType","isDeleteOpen","setIsDeleteOpen","closeDelete","options_delete","handleOperationType","idOperation","setIdOperation","handleIdOperation","handleDelete","totalExpense","setTotalExpense","totalIncome","setTotalIncome","calculateTotalExpense","total","reduce","sum","transaction","calculateTotalIncome","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","pin","text","onClick","isOpen","onClose","mb","mt","required","placeholder","onChange","status","m","stretch","style","maxHeight","content","compact","reverse","index","currency","stroke","alignRight","_c","$RefreshReg$"],"sources":["/Users/amina/frontend-last/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {Headline3, Headline4, Card, CardContent, Cell, TextBox, TextBoxTitle, TextBoxBigTitle, TextBoxSubTitle, useToast,\n  CellListItem, Header, Button, ToastProvider, ActionButton, Container, TextBoxBiggerTitle, Price, ParagraphText1} from '@salutejs/plasma-ui';\nimport {Modal, Select, TextField} from \"@salutejs/plasma-web\";\nimport './style.css';\nimport axios from \"axios\";\nimport { createAssistant, createSmartappDebugger } from '@salutejs/client';\nimport {ToastForm} from \"./components/ToastForm\";\nimport {MyHeader} from \"./components/MyHeader\";\n\nexport function App() {\n    //Assistant\n    // const [transactions, setTransactions] = useState([\n    //     { id: Math.random().toString(36).substring(7), type: 'expense', name: 'Groceries', сategory: 'Food', amount: 50, date: new Date().toISOString() },\n    //     { id: Math.random().toString(36).substring(7), type: 'income', name: 'Salary', category: 'Job', amount: 1000, date: new Date().toISOString() }\n    // ]);\n    const [expense, setExpense] = useState([\n        {user_id: \"\", tag_id: null, name: null, date: null, amount: null, transaction_id: null }]\n    );\n    const [income, setIncome] = useState([\n        {user_id: \"\", tag_id: null, name: null, date: null, amount: null, transaction_id: null }]\n    );\n\n\n    let assistant;\n\n    const initializeAssistant = (getState) => {\n        if (process.env.NODE_ENV === 'development') {\n            return createSmartappDebugger({\n                token: process.env.REACT_APP_TOKEN ?? '',\n                initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n                getState,\n                // getRecoveryState: getState,\n                nativePanel: {\n                    defaultText: '',\n                    screenshotMode: false,\n                    tabIndex: -1,\n                },\n            });\n        } else {\n            return createAssistant({ getState });\n        }\n    };\n    function getStateForAssistant() {\n        //console.log('getStateForAssistant: transactions:', transactions);\n\n        const state = {\n            item_selector: {\n                items: expense.map(({tag_id, name, date, amount}) => ({\n                    tag_id,\n                    name,\n                    date,\n                    amount\n                })),\n\n                ignored_words: [\n                    'добавить', 'установить', 'запиши', 'поставь', 'закинь', 'напомнить',\n                    'удалить', 'удали',\n                    'рубли', 'рублей'\n                ],\n            },\n        };\n\n        console.log('getStateForAssistant: state:', state);\n        return state;\n    }\n\n    const capitalizeFirstLetter = (string) => {\n        if (!string) return '';\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    const formatDate = (date) => {\n        const { day, month, year } = date;\n        const formattedDay = String(day).padStart(2, '0');\n        const formattedMonth = String(month).padStart(2, '0');\n        return `${year}-${formattedMonth}-${formattedDay}`;\n    };\n\n    const getValueByLabelExp = (label) => {\n\n        const item = items_Expense.find(item => item.label === label);\n        return item ? item.value : null;\n    };\n\n\n    const getValueByLabelInc = (label) => {\n\n        const item = items_Income.find(item => item.label === label);\n        return item ? item.value : null;}\n\n\n    const add_expense = async (action) => {\n        console.log('add_expense', action);\n        const user_id = 1;\n        const data = {\n            tag_id: getValueByLabelExp(capitalizeFirstLetter(action.tag_id)),\n            name: action.name,\n            date: formatDate(action.date),\n            amount: parseFloat(action.amount)\n\n        };\n        if (action.tag_id === null) {\n            throw new Error(`Tag with label \"${action.tag_id}\" not found`);\n        }\n\n        await axios.post(`http://45.147.177.32:8000/api/v1/finance/expense?user_id=${user_id}`, data);\n        fetchDataAll(); // Обновляем списки транзакций после успешного добавления\n        console.log(data);\n    };\n\n\n    const add_income = async (action) => {\n        console.log('add_income', action);\n        const user_id = 1;\n        const data = {\n            tag_id: getValueByLabelInc(capitalizeFirstLetter(action.tag_id)),\n            name: action.name,\n            date: formatDate(action.date),\n            amount: parseFloat(action.amount)\n\n        };\n        if (action.tag_id === null) {\n            throw new Error(`Tag with label \"${action.tag_id}\" not found`);\n        }\n        await axios.post(`http://45.147.177.32:8000/api/v1/finance/income?user_id=${user_id}`, data);\n        fetchDataAll(); // Обновляем списки транзакций после успешного добавления\n        console.log(data);\n    };\n\n    function delete_expense(action) {\n        const user_id = 1;\n        const transactionId = action.transaction_id;\n        axios.delete(`http://45.147.177.32:8000/api/v1/finance/expense/delete/${transactionId}?user_id=${user_id}`);\n        fetchDataAll();\n\n    }\n\n    function delete_income(action) {\n        const user_id = 1;\n        const transactionId = action.transaction_id;\n        axios.delete(`http://45.147.177.32:8000/api/v1/finance/income/delete/${transactionId}?user_id=${user_id}`);\n        fetchDataAll();\n\n    }\n\n    const dispatchAssistantAction = (action) => {\n        console.log('dispatchAssistantAction', action);\n        if (action) {\n            switch (action.type) {\n                case 'add_expense':\n                    return add_expense(action);\n                case 'initialize_user':\n                    this.setState({\n                        user_id: action.id,\n                        characterID: action.characterID,\n                    });\n                    \n                case 'add_income':\n                    return add_income(action);\n\n                case 'delete_expense':\n                    return delete_expense(action);\n                case 'delete_income':\n                    return delete_income(action);\n\n                default:\n                    throw new Error(`Unknown action type: ${action.type}`);\n            }\n        }\n    };\n    useEffect(() => {\n        console.log('componentDidMount');\n        assistant = initializeAssistant(() => getStateForAssistant());\n\n        assistant.on('data', (event) => {\n            console.log('assistant.on(data)', event);\n            if (event.type === 'character') {\n                console.log(`assistant.on(data): character: \"${event?.character?.id}\"`);\n            } else if (event.type === 'insets') {\n                console.log('assistant.on(data): insets');\n            } else {\n                const { action } = event;\n                dispatchAssistantAction(action);\n            }\n        });\n\n        assistant.on('start', (event) => {\n            let initialData = assistant.getInitialData();\n            console.log(`assistant.on(start)`, event, initialData);\n        });\n\n        assistant.on('command', (event) => {\n            console.log(`assistant.on(command)`, event);\n        });\n\n        assistant.on('error', (event) => {\n            console.log(`assistant.on(error)`, event);\n        });\n\n        assistant.on('tts', (event) => {\n            console.log(`assistant.on(tts)`, event);\n        });\n    }, []);\n\n\n    function _send_action_value(action_id, value) {\n        const data = {\n            action: {\n                action_id: action_id,\n                parameters: {\n                    value: value,\n                },\n            },\n        };\n        const unsubscribe = this.assistant.sendData(data, (data) => {\n            const { type, payload } = data;\n            console.log('sendData onData:', type, payload);\n            unsubscribe();\n        });\n    }\n\n\n\n\n    //Expense\n    const [isExpenseOpen, setIsExpenseOpen] = React.useState(false);\n    const closeExpense = React.useCallback(() => {\n            setIsExpenseOpen(false);\n    });\n    const [dateInputExpense, setDateInputExpense] = React.useState('');\n    const [dateExpense, setDateExpense] = useState('');\n    const [nameExpense, setNameExpense] = useState('');\n    const [amountExpense, setAmountExpense] = useState('');\n    const handleNameChangeExpense = (e) => {\n        setNameExpense(e.target.value);\n    };\n    const handleAmountChangeExpense = (e) => {\n            setAmountExpense(e.target.value);\n    };\n    const handleDateChangeExpense = (e) => {\n        setDateInputExpense(e.target.value);\n    };\n    // написать подсказку в ассистенте\n    const items_Expense = [\n        {value: 1, label: 'Одежда'},\n        {value: 2, label: 'Продукты'},\n        {value: 3, label: 'Дом'},\n        {value: 4, label: 'Рестораны'},\n        {value: 5, label: 'Услуги'},\n        {value: 6, label: 'Развлечения'},\n        {value: 7, label: 'Иное'}\n    ];\n\n\n    //Income\n    const [isIncomeOpen, setIsIncomeOpen] = React.useState(false);\n    const closeIncome = React.useCallback(() => {\n            setIsIncomeOpen(false);\n    });\n    const [dateInputIncome, setDateInputIncome] = React.useState('');\n    const [dateIncome, setDateIncome] = useState(null);\n    const [nameIncome, setNameIncome] = useState('');\n    const [amountIncome, setAmountIncome] = useState('');\n    const handleNameChangeIncome = (e) => {\n        setNameIncome(e.target.value);\n    };\n    const handleAmountChangeIncome = (e) => {\n        setAmountIncome(e.target.value);\n    };\n    const handleDateChangeIncome = (e) => {\n        setDateInputIncome(e.target.value);\n    };\n    const items_Income = [\n        {value: 1, label: 'Зарплата'},\n        {value: 2, label: 'Подарок'},\n        {value: 3, label: 'Иной доход'},\n    ];\n\n    //Connect backend\n    const [expenseTransactions, setExpenseTransactions] = useState([]);\n    const [incomeTransactions, setIncomeTransactions] = useState([]);\n    const fetchDataAll = () => {\n        const user_id = 1;\n        axios.get('http://45.147.177.32:8000/api/v1/finance', {\n            params: {user_id: user_id}\n        }).then(response => {\n            setExpenseTransactions(response.data.transactions.expense);\n            setIncomeTransactions(response.data.transactions.income);\n        }).catch(error => {\n            console.error('Error fetching data:', error);\n        });\n    };\n\n    useEffect(() => {\n        fetchDataAll();\n    }, []);\n\n    const getLabelByValueExpense = (value) => {\n        const item = items_Expense.find(item => item.value === value);\n        return item ? item.label : 'Неизвестно';\n    };\n\n\n    //ExpenceForm\n    const handleSubmitExpense = async () => {\n        const user_id = 1;\n        const data = {\n            tag_id: dateExpense,\n            name: nameExpense,\n            date: dateInputExpense,\n            amount: parseFloat(amountExpense)\n        };\n        try {\n            await axios.post(`http://45.147.177.32:8000/api/v1/finance/expense?user_id=${user_id}`, data);\n            closeExpense();\n            fetchDataAll();\n            setDateInputExpense('');\n            setDateExpense('');\n            setNameExpense('');\n            setAmountExpense('');\n        } catch (error) {\n            console.error(\"There was an error creating the expense!\", error, data);\n        }\n    };\n\n    //IncomeForm\n    const handleSubmitIncome = async () => {\n        const user_id = 1;\n        const data = {\n            tag_id: dateIncome,\n            name: nameIncome,\n            date: dateInputIncome,\n            amount: parseFloat(amountIncome)\n        };\n        try {\n            await axios.post(`http://45.147.177.32:8000/api/v1/finance/income?user_id=${user_id}`, data);\n            closeIncome();\n            fetchDataAll();\n            setDateInputIncome('');\n            setDateIncome('');\n            setNameIncome('');\n            setAmountIncome('');\n\n            } catch (error) {\n                console.error(\"error creating the income\", error, data);\n            }\n    };\n    const getLabelByValueIncome = (value) => {\n        const item = items_Income.find(item => item.value === value);\n        return item ? item.label : 'Неизвестно';\n    };\n\n\n    //Edit\n    const [isEditOpen, setIsEditOpen] = React.useState(false);\n    const closeEdit = React.useCallback(() => {\n        setIsEditOpen(false);\n    });\n    const [idEdit, setIdEdit] = useState('');\n    const handleIdEdit = (e) => {\n        setIdEdit(e.target.value);\n    };\n    const [dateEdit, setDateEdit] = React.useState('');\n    const [nameEdit, setNameEdit] = useState('');\n    const [amountEdit, setAmountEdit] = useState('');\n    const handleNameEdit = (e) => {\n        setNameEdit(e.target.value);\n    };\n\n    const handleAmountEdit = (e) => {\n        setAmountEdit(e.target.value);\n    };\n\n    const handleDateEdit = (e) => {\n        setDateEdit(e.target.value);\n    };\n\n    const handleEdit = async () => {\n        const user_id = 1;\n        const new_data = {\n            tag_id: 0,\n            name: nameEdit,\n            type: operationType,\n            date: dateEdit,\n            amount: parseFloat(amountEdit)\n        };\n        try {\n            await axios.put(`http://45.147.177.32:8000/api/v1/finance/${operationType}/update/${idEdit}?user_id=${user_id}`, new_data);\n            fetchDataAll();\n            setIdEdit('');\n            setOperationType('');\n            setNameEdit('');\n            setAmountEdit('');\n            closeEdit();\n        } catch (error) {\n            console.error(\"There was an error creating the income!\", error, new_data);\n        }\n    };\n\n    //Delete\n    const [isDeleteOpen, setIsDeleteOpen] = React.useState(false);\n    const closeDelete = React.useCallback(() => {\n        setIsDeleteOpen(false);\n    });\n\n    const [operationType, setOperationType] = useState('');\n    const options_delete = [\n            { value: 'income', label: 'Доходы' },\n        { value: 'expense', label: 'Расходы' }\n    ];\n\n    const handleOperationType = (e) => {\n            setOperationType(e.target.value);\n        };\n    const [idOperation, setIdOperation] = useState('');\n\n    const handleIdOperation = (e) => {\n        setIdOperation(e.target.value);\n    };\n    const handleDelete = async () => {\n        const user_id = 1;\n        try {\n            axios.delete(`http://45.147.177.32:8000/api/v1/finance/${operationType}/delete/${idOperation}?user_id=${user_id}`);\n\n        } catch (error) {\n            console.error( error);\n        }\n                    setIdOperation('');\n            setOperationType('');\n            closeDelete();\n            fetchDataAll();\n    };\n\n\n    //sum\n    const [totalExpense, setTotalExpense] = useState(0);\n    const [totalIncome, setTotalIncome] = useState(0);\n\n    useEffect(() => {\n        const calculateTotalExpense = () => {\n            const total = expenseTransactions.reduce((sum, transaction) => sum + transaction.amount, 0);\n            setTotalExpense(total);\n        };\n\n        const calculateTotalIncome = () => {\n            const total = incomeTransactions.reduce((sum, transaction) => sum + transaction.amount, 0);\n            setTotalIncome(total);\n        };\n\n        calculateTotalExpense();\n        calculateTotalIncome();\n    }, [expenseTransactions, incomeTransactions]);\n\n\n        return (\n            <div className=\"App\">\n                <ToastProvider>\n                    <div className=\"my-header\">\n                        <MyHeader />\n                    </div>\n                    <div className=\"buttons-bar\">\n                        <Button className=\"button-bar-button\" size=\"l\" pin=\"circle-circle\"\n                                text=\"Добавить расходы\" onClick={() => setIsExpenseOpen(true)}/>\n                        \n                        <Modal className=\"scrollable-content\" isOpen={isExpenseOpen} onClose={closeExpense}>\n                            <Headline3 mb={20}>Добавить расходы</Headline3>\n                            <ParagraphText1 mt={10} mb={10}>Название</ParagraphText1>\n                            <TextField \n                                       required='true'\n                                       placeholder=\"Объект\"\n                                       value={nameExpense}\n                                       onChange={handleNameChangeExpense}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Тип:</ParagraphText1>\n                            <Select\n                                required='true'\n                                value={dateExpense}\n                                items={items_Expense}\n                                onChange={setDateExpense}\n                                placeholder=\"Выберите...\"\n                                status=\"success\"\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Стоимость:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                placeholder=\"Введите сумму\"\n                                type='number'\n                                value={amountExpense}\n                                onChange={handleAmountChangeExpense}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Дата покупки:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                type=\"date\"\n                                value={dateInputExpense}\n                                onChange={handleDateChangeExpense}\n                            />\n                            <Button m={10} stretch=\"true\" text=\"Добавить\" onClick={handleSubmitExpense}\n                                    className=\"button-bar-modal\"/>\n                        </Modal>\n                        <Button className=\"button-bar-button\" size=\"l\" pin=\"circle-circle\"\n                                text=\"Добавить доходы\" onClick={() => setIsIncomeOpen(true)}/>\n                        <Modal className=\"scrollable-content\" isOpen={isIncomeOpen} onClose={closeIncome}>\n                            <Headline3 mb={20}>Добавить доходы </Headline3>\n                            <ParagraphText1 mt={10} mb={10}>Название:</ParagraphText1>\n                            <TextField placeholder=\"Объект\"\n                                       required='true'\n                                       value={nameIncome}\n                                       onChange={handleNameChangeIncome}/>\n                            <ParagraphText1 mt={10} mb={10}>Тип:</ParagraphText1>\n                            <Select\n                                required='true'\n                                value={dateIncome}\n                                items={items_Income}\n                                onChange={setDateIncome}\n                                placeholder=\"Выберите...\"\n                                status=\"success\"\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Сумма:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                placeholder=\"Введите сумму\"\n                                type='number'\n                                value={amountIncome}\n                                onChange={handleAmountChangeIncome}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Дата зачисления:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                type=\"date\"\n                                value={dateInputIncome}\n                                onChange={handleDateChangeIncome}\n                            />\n                            <Button stretch=\"true\" text=\"Добавить\" onClick={handleSubmitIncome} className=\"button-bar-modal\"/>\n                        </Modal>\n\n                        <Button className=\"button-bar-button\" size=\"l\" pin=\"circle-circle\"\n                                text=\"Редактировать запись\" onClick={() => setIsEditOpen(true)}/>\n                        <Modal className=\"scrollable-content\" isOpen={isEditOpen} onClose={closeEdit}>\n                            <Headline3 mb={20}>Редактировать запись</Headline3>\n                            <ParagraphText1 mt={10} mb={10}>Из какого списка?</ParagraphText1>\n                            <Select\n                                required='true'\n                                value={operationType}\n                                items={options_delete}\n                                onChange={setOperationType}\n                                placeholder=\"Выберите...\"\n                                status=\"success\"\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Введите id записи:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                placeholder=\"Id\"\n                                type='number'\n                                value={idEdit}\n                                onChange={handleIdEdit}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Новое название:</ParagraphText1>\n                            <TextField placeholder=\"Объект\"\n                                       required='true'\n                                       value={nameEdit}\n                                       onChange={handleNameEdit}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Новая стоимость:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                placeholder=\"Введите сумму\"\n                                type='number'\n                                value={amountEdit}\n                                onChange={handleAmountEdit}\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Новая дата:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                type=\"date\"\n                                value={dateEdit}\n                                onChange={handleDateEdit}\n                            />\n                            <Button className=\"button-bar-modal\" stretch=\"true\" text=\"Изменить\" onClick={handleEdit} className=\"button-bar-modal\"/>\n                        </Modal>\n\n                        <Button className=\"button-bar-button\" size=\"l\" pin=\"circle-circle\"\n                                text=\"Удалить запись\" onClick={() => setIsDeleteOpen(true)}/>\n                        <Modal className=\"scrollable-content\" isOpen={isDeleteOpen} onClose={closeDelete}>\n                            <Headline3 mb={20}>Удалить запись</Headline3>\n                            <ParagraphText1 mt={10} mb={10}>Из какого списка?</ParagraphText1>\n                            <Select\n                                required='true'\n                                value={operationType}\n                                items={options_delete}\n                                onChange={setOperationType}\n                                placeholder=\"Выберите...\"\n                                status=\"success\"\n                            />\n                            <ParagraphText1 mt={10} mb={10}>Введите id записи:</ParagraphText1>\n                            <TextField\n                                required='true'\n                                placeholder=\"Id\"\n                                type='number'\n                                value={idOperation}\n                                onChange={handleIdOperation}\n                            />\n                            <Button className=\"button-bar-modal\" stretch=\"true\" text=\"Удалить\" onClick={handleDelete}/>\n                        </Modal>\n\n                        <ToastForm/>\n                    </div>\n\n                    <div className=\"cards-row\">\n                        <Card className=\"cards-row-card\" style={{ maxHeight: '22.5rem'}}>\n                            <Cell className=\"name-list\" content={<TextBoxBigTitle>Расходы:</TextBoxBigTitle>}/>\n                            <CardContent className=\"scrollable-content\" compact>\n                                \n                                {expenseTransactions.slice().reverse().map((transaction, index) => (\n                                    <CellListItem\n                                        key={index}\n                                        content={\n                                            <TextBox>\n                                                <TextBoxTitle>{transaction.name}</TextBoxTitle>\n                                                <div className=\"row-notes\">\n                                                    <TextBoxSubTitle>Id: {transaction.transaction_id}</TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Дата: {transaction.date}</TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Сумма: <Price currency=\"rub\" stroke={false}>{transaction.amount}</Price></TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Тип: {getLabelByValueExpense(transaction.tag_id)} </TextBoxSubTitle>\n                                                </div>\n                                            </TextBox>\n                                        }\n                                    />\n                                ))}\n                            </CardContent>\n                        </Card>\n                        <Card className=\"cards-row-card\" style={{ maxHeight: '22.5rem'}}>\n                            <Cell className=\"name-list\"content={<TextBoxBigTitle>Доходы:</TextBoxBigTitle>}/>\n                            <CardContent className=\"scrollable-content\" compact>\n                                {incomeTransactions.slice().reverse().map((transaction, index) => (\n                                    <CellListItem\n                                        key={index}\n                                        content={\n                                            <TextBox>\n                                                <TextBoxTitle>{transaction.name}</TextBoxTitle>\n                                                <div className=\"row-notes\">\n                                                    <TextBoxSubTitle>Id: {transaction.transaction_id}</TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Дата: {transaction.date}</TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Сумма: <Price currency=\"rub\" stroke={false}>{transaction.amount}</Price></TextBoxSubTitle>\n                                                    <TextBoxSubTitle>Тип: {getLabelByValueIncome(transaction.tag_id)} </TextBoxSubTitle>\n                                                </div>\n\n                                            </TextBox>\n                                        }\n                                    />\n                                ))}\n                            </CardContent>\n                        </Card>\n                        <Card className=\"cards-row-card sum-card\">\n                            <CardContent compact>\n                                <Cell\n                                    content={<TextBoxBigTitle>Общая сумма расходов: </TextBoxBigTitle>}\n                                />\n                                <Cell\n                                    content={<TextBoxBiggerTitle><Price currency=\"rub\" stroke={false}>{totalExpense}</Price></TextBoxBiggerTitle>}\n\n                                    alignRight=\"center\"\n                                />\n                            </CardContent>\n                            <CardContent compact>\n                                <Cell\n                                    content={<TextBoxBigTitle>Общая сумма доходов: </TextBoxBigTitle>}\n                                />\n                                <Cell\n                                    content={<TextBoxBiggerTitle><Price currency=\"rub\" stroke={false}>{totalIncome}</Price></TextBoxBiggerTitle>}\n\n                                    alignRight=\"center\"\n                                />\n                            </CardContent>\n                        </Card>\n                    </div>\n\n                </ToastProvider>\n            </div>\n        );\n\n    }\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}