"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useOnComboType = void 0;
var _react = /*#__PURE__*/require("react");
var _utils = /*#__PURE__*/require("./utils");
var _useSearchString2 = /*#__PURE__*/require("./useSearchString");
var useOnComboType = exports.useOnComboType = function useOnComboType(_ref) {
  var items = _ref.items,
    index = _ref.index;
  var _useSearchString = (0, _useSearchString2.useSearchString)(),
    getSearchString = _useSearchString.getSearchString,
    resetSearchString = _useSearchString.resetSearchString;
  return (0, _react.useCallback)(function (letter) {
    // Находим индекс первого подходящего item
    var updatedSearchString = getSearchString(letter);
    var searchIndex = (0, _utils.getIndexByLetter)(items.map(function (item) {
      return item.label;
    }), updatedSearchString, index + 1);

    // Если есть подходящая опция - переходим к ней
    if (searchIndex >= 0) {
      return searchIndex;
    }
    resetSearchString();
    return undefined;
  }, [items, index, getSearchString, resetSearchString]);
};