var _StandardTypoStyle, _span;
import React from 'react';
import { createGlobalStyle } from 'styled-components';
import { standard as standardTypo } from '@salutejs/plasma-typo';
import { IconLocation } from '@salutejs/plasma-icons';
import { mount, CypressTestDecorator, getComponent } from '@salutejs/plasma-cy-utils';
var StandardTypoStyle = /*#__PURE__*/createGlobalStyle(standardTypo);
var items = [{
  value: 'north_america',
  label: 'Северная Америка',
  contentLeft: /*#__PURE__*/React.createElement(IconLocation, {
    color: "inherit"
  }),
  contentRight: /*#__PURE__*/React.createElement(IconLocation, {
    color: "inherit"
  })
}, {
  value: 'south_america',
  label: 'Южная Америка',
  items: [{
    value: 'brazil',
    label: 'Бразилия',
    items: [{
      value: 'rio_de_janeiro',
      label: 'Рио-де-Жанейро'
    }, {
      value: 'sao_paulo',
      label: 'Сан-Паулу'
    }]
  }, {
    value: 'argentina',
    label: 'Аргентина',
    items: [{
      value: 'buenos_aires',
      label: 'Буэнос-Айрес'
    }, {
      value: 'cordoba',
      label: 'Кордова'
    }]
  }, {
    value: 'colombia',
    label: 'Колумбия',
    items: [{
      value: 'bogota',
      label: 'Богота'
    }, {
      value: 'medellin',
      label: 'Медельин'
    }]
  }]
}, {
  value: 'europe',
  label: 'Европа',
  items: [{
    value: 'france',
    label: 'Франция',
    items: [{
      value: 'paris',
      label: 'Париж'
    }, {
      value: 'lyon',
      label: 'Лион'
    }]
  }, {
    value: 'germany',
    label: 'Германия',
    items: [{
      value: 'berlin',
      label: 'Берлин'
    }, {
      value: 'munich',
      label: 'Мюнхен'
    }]
  }, {
    value: 'italy',
    label: 'Италия',
    items: [{
      value: 'rome',
      label: 'Рим'
    }, {
      value: 'milan',
      label: 'Милан'
    }]
  }, {
    value: 'spain',
    label: 'Испания',
    items: [{
      value: 'madrid',
      label: 'Мадрид'
    }, {
      value: 'barcelona',
      label: 'Барселона'
    }]
  }, {
    value: 'united_kingdom',
    label: 'Великобритания',
    items: [{
      value: 'london',
      label: 'Лондон'
    }, {
      value: 'manchester',
      label: 'Манчестер'
    }]
  }]
}, {
  value: 'asia',
  label: 'Азия',
  items: [{
    value: 'china',
    label: 'Китай',
    items: [{
      value: 'beijing',
      label: 'Пекин'
    }, {
      value: 'shanghai',
      label: 'Шанхай'
    }]
  }, {
    value: 'japan',
    label: 'Япония',
    items: [{
      value: 'tokyo',
      label: 'Токио'
    }, {
      value: 'osaka',
      label: 'Осака'
    }]
  }, {
    value: 'india',
    label: 'Индия',
    items: [{
      value: 'delhi',
      label: 'Дели'
    }, {
      value: 'mumbai',
      label: 'Мумбаи'
    }]
  }, {
    value: 'south_korea',
    label: 'Южная Корея',
    items: [{
      value: 'seoul',
      label: 'Сеул'
    }, {
      value: 'busan',
      label: 'Пусан'
    }]
  }, {
    value: 'thailand',
    label: 'Таиланд',
    items: [{
      value: 'bangkok',
      label: 'Бангкок'
    }, {
      value: 'phuket',
      label: 'Пхукет'
    }]
  }]
}, {
  value: 'africa',
  label: 'Африка',
  disabled: true
}];
describe('plasma-b2c: Dropdown', function () {
  var _CypressTestDecorator, _Dropdown, _Dropdown2, _Dropdown3, _Dropdown4, _Dropdown5, _Dropdown6, _Dropdown7, _Dropdown8, _Button, _Button2, _CypressTestDecorator2, _Button3, _Button4, _Button5, _CypressTestDecorator3, _CypressTestDecorator4, _CypressTestDecorator5, _CypressTestDecorator6, _Button6, _Button7, _CypressTestDecorator7, _Button8;
  var Dropdown = getComponent('Dropdown');
  var Button = getComponent('Button');
  var CypressTestDecoratorWithTypo = function CypressTestDecoratorWithTypo(_ref) {
    var children = _ref.children;
    return /*#__PURE__*/React.createElement(CypressTestDecorator, null, _StandardTypoStyle || (_StandardTypoStyle = /*#__PURE__*/React.createElement(StandardTypoStyle, null)), children);
  };
  it('default', function () {
    cy.viewport(1000, 500);
    mount(_CypressTestDecorator || (_CypressTestDecorator = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#south_america').click();
    cy.get('#argentina').click();
    cy.matchImageSnapshot();
  });
  it('prop: size', function () {
    cy.viewport(1500, 500);
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement("div", {
      style: {
        display: 'flex',
        gap: '200px'
      }
    }, _Dropdown || (_Dropdown = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "xs",
      closeOnOverlayClick: false
    }, /*#__PURE__*/React.createElement(Button, {
      id: "xs",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D XS"
    }))), _Dropdown2 || (_Dropdown2 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "s",
      closeOnOverlayClick: false
    }, /*#__PURE__*/React.createElement(Button, {
      id: "s",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D S"
    }))), _Dropdown3 || (_Dropdown3 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "m",
      closeOnOverlayClick: false
    }, /*#__PURE__*/React.createElement(Button, {
      id: "m",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D M"
    }))), _Dropdown4 || (_Dropdown4 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "l",
      closeOnOverlayClick: false
    }, /*#__PURE__*/React.createElement(Button, {
      id: "l",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D L"
    }))))));
    cy.get('#xs').click();
    cy.get('#s').click();
    cy.get('#m').click();
    cy.get('#l').click();
    cy.matchImageSnapshot();
  });
  it('prop: size, variant', function () {
    cy.viewport(1500, 500);
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement("div", {
      style: {
        display: 'flex',
        gap: '200px'
      }
    }, _Dropdown5 || (_Dropdown5 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "xs",
      closeOnOverlayClick: false,
      variant: "tight"
    }, /*#__PURE__*/React.createElement(Button, {
      id: "xs",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D XS"
    }))), _Dropdown6 || (_Dropdown6 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "s",
      closeOnOverlayClick: false,
      variant: "tight"
    }, /*#__PURE__*/React.createElement(Button, {
      id: "s",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D S"
    }))), _Dropdown7 || (_Dropdown7 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "m",
      closeOnOverlayClick: false,
      variant: "tight"
    }, /*#__PURE__*/React.createElement(Button, {
      id: "m",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D M"
    }))), _Dropdown8 || (_Dropdown8 = /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      size: "l",
      closeOnOverlayClick: false,
      variant: "tight"
    }, /*#__PURE__*/React.createElement(Button, {
      id: "l",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D L"
    }))))));
    cy.get('#xs').click();
    cy.get('#s').click();
    cy.get('#m').click();
    cy.get('#l').click();
    cy.matchImageSnapshot();
  });
  it('prop: onHover', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      onHover: function onHover(index) {
        expect(index).to.eq(0);
      }
    }, _Button || (_Button = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#north_america').trigger('mouseover');
  });
  it('prop: onItemSelect', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      onItemSelect: function onItemSelect(item, event) {
        expect(item).to.eq(items[0]);
        expect(event.type).to.eq('click');
      }
    }, _Button2 || (_Button2 = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#north_america').click();
  });
  it('prop: trigger', function () {
    cy.viewport(1000, 500);
    mount(_CypressTestDecorator2 || (_CypressTestDecorator2 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      trigger: "hover"
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').trigger('mouseover');
    cy.get('#asia').trigger('mouseover');
    cy.get('#india').trigger('mouseover');
    cy.get('#delhi').should('be.visible');
    cy.matchImageSnapshot();
  });
  it('prop: placement', function () {
    cy.viewport(500, 800);
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      placement: ['top', 'bottom'],
      items: items,
      closeOnOverlayClick: false
    }, _Button3 || (_Button3 = /*#__PURE__*/React.createElement(Button, {
      id: "top",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    }))), /*#__PURE__*/React.createElement("div", {
      style: {
        height: '600px'
      }
    }), /*#__PURE__*/React.createElement(Dropdown, {
      placement: ['top', 'bottom'],
      items: items,
      closeOnOverlayClick: false
    }, _Button4 || (_Button4 = /*#__PURE__*/React.createElement(Button, {
      id: "bottom",
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('#top').click();
    cy.get('#bottom').click();
    cy.matchImageSnapshot();
  });
  it('prop: offset', function () {
    cy.viewport(1000, 500);
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      offset: [20, 20]
    }, _Button5 || (_Button5 = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#south_america').click();
    cy.get('#argentina').click();
    cy.matchImageSnapshot();
  });
  it('prop: listWidth', function () {
    cy.viewport(1000, 500);
    mount(_CypressTestDecorator3 || (_CypressTestDecorator3 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      listWidth: "300px"
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#south_america').click();
    cy.get('#argentina').click();
    cy.matchImageSnapshot();
  });
  it('prop: hasArrow', function () {
    cy.viewport(1000, 500);
    mount(_CypressTestDecorator4 || (_CypressTestDecorator4 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      hasArrow: false
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#south_america').click();
    cy.get('#argentina').click();
    cy.matchImageSnapshot();
  });
  it('prop: closeOnSelect', function () {
    mount(_CypressTestDecorator5 || (_CypressTestDecorator5 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      closeOnSelect: false
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#north_america').click();
    cy.get('#north_america').should('be.visible');
  });
  it('prop: closeOnOverlayClick', function () {
    mount(_CypressTestDecorator6 || (_CypressTestDecorator6 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, _span || (_span = /*#__PURE__*/React.createElement("span", {
      id: "outer"
    }, "outer text")), /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      closeOnOverlayClick: false
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#outer').click();
    cy.get('#north_america').should('be.visible');
  });
  it('prop: onToggle', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      onToggle: function onToggle(isOpen, event) {
        expect(isOpen).to.be.oneOf([true, false]);
        expect(event.type).to.eq('click');
      }
    }, _Button6 || (_Button6 = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('button').click();
  });
  it('prop: onItemClick', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      onItemClick: function onItemClick(item, event) {
        expect(item).to.eq(items[0]);
        expect(event.type).to.eq('click');
      }
    }, _Button7 || (_Button7 = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.get('#north_america').click();
  });
  it('prop: listHeight, listOverflow', function () {
    mount(_CypressTestDecorator7 || (_CypressTestDecorator7 = /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      listOverflow: "scroll",
      listHeight: 6
    }, /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('button').click();
    cy.matchImageSnapshot();
  });
  it('keyboard interactions', function () {
    cy.viewport(1000, 500);
    mount( /*#__PURE__*/React.createElement(CypressTestDecoratorWithTypo, null, /*#__PURE__*/React.createElement(Dropdown, {
      items: items,
      onItemSelect: function onItemSelect(item, event) {
        expect(item).to.eq(items[0]);
        expect(event.type).to.eq('keydown');
      }
    }, _Button8 || (_Button8 = /*#__PURE__*/React.createElement(Button, {
      text: "\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u0442\u0440\u0430\u043D"
    })))));
    cy.get('body').realClick();
    cy.realPress('Tab');

    // Arrow Down
    cy.realPress('ArrowDown');
    cy.get('#listbox1').should('be.visible');
    cy.get('#north_america').should('have.class', 'dropdown-item-is-focused');
    cy.get('button').should('have.focus');
    cy.realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowDown');
    cy.get('#europe').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // Arrow Up
    cy.realPress('ArrowUp');
    cy.get('#north_america').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('ArrowUp');
    cy.get('#africa').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // Arrows Right and Left
    cy.realPress('ArrowDown').realPress('ArrowDown').realPress('ArrowRight');
    cy.get('#listbox1').should('be.visible');
    cy.get('#listbox2').should('be.visible');
    cy.get('#brazil').should('have.class', 'dropdown-item-is-focused');
    cy.get('button').should('have.focus');
    cy.get('#south_america').should('have.class', 'dropdown-item-is-active');
    cy.realPress('ArrowLeft');
    cy.get('#listbox1').should('be.visible');
    cy.get('#listbox2').should('not.be.visible');
    cy.get('#south_america').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('ArrowDown').realPress('ArrowRight');
    cy.get('#france').should('have.class', 'dropdown-item-is-focused');
    cy.get('button').should('have.focus');
    cy.get('#europe').should('have.class', 'dropdown-item-is-active');
    cy.realPress('ArrowRight');
    cy.get('#europe').should('have.class', 'dropdown-item-is-active');
    cy.get('#france').should('have.class', 'dropdown-item-is-active');
    cy.get('#paris').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('ArrowLeft').realPress('ArrowLeft').realPress('ArrowLeft');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');

    // Escape
    cy.realPress('Escape');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');

    // Home
    cy.realPress('Home');
    cy.get('#listbox1').should('be.visible');
    cy.get('button').should('have.focus');
    cy.get('#north_america').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // End
    cy.realPress('End');
    cy.get('#listbox1').should('be.visible');
    cy.get('button').should('have.focus');
    cy.get('#africa').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // Page Down
    cy.realPress('PageDown');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');
    cy.realPress('ArrowDown');
    cy.realPress('PageDown');
    cy.get('button').should('have.focus');
    cy.get('#africa').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // Page Up
    cy.realPress('PageUp');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');
    cy.realPress('ArrowDown');
    cy.realPress('ArrowDown');
    cy.realPress('PageUp');
    cy.get('button').should('have.focus');
    cy.get('#north_america').should('have.class', 'dropdown-item-is-focused');
    cy.realPress('Escape');

    // Space
    cy.realPress('ArrowDown').realPress('ArrowDown').realPress('Space').realPress('ArrowLeft').realPress('ArrowUp').realPress('Space');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');

    // Enter
    cy.realPress('Enter').realPress('ArrowDown').realPress('Enter').realPress('ArrowLeft').realPress('ArrowUp').realPress('Enter');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('have.focus');

    // Tab
    cy.realPress('ArrowDown').realPress('Tab');
    cy.get('#listbox1').should('not.be.visible');
    cy.get('button').should('not.have.focus');
  });
});