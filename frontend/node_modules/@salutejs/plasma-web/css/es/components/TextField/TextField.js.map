{"version":3,"file":"TextField.js","sources":["../../../../src-css/components/TextField/TextField.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport type { TextFieldProps } from '@salutejs/plasma-hope';\nimport { textFieldConfig, component, mergeConfig } from '@salutejs/plasma-new-hope';\n\nimport { config } from './TextField.config';\n\nconst mergedConfig = mergeConfig(textFieldConfig, config);\nconst TextFieldComponent = component(mergedConfig);\n\ntype newHopeTextFieldProps = React.ComponentProps<typeof TextFieldComponent>;\nexport type CustomTextFieldProps = TextFieldProps &\n    Pick<newHopeTextFieldProps, 'enumerationType' | 'chips' | 'onChangeChips'>;\nconst statusToView: Record<NonNullable<TextFieldProps['status']>, NonNullable<newHopeTextFieldProps['view']>> = {\n    success: 'positive',\n    warning: 'warning',\n    error: 'negative',\n};\nconst animatedHintToLabelPlacement: Record<\n    NonNullable<TextFieldProps['animatedHint']>,\n    NonNullable<newHopeTextFieldProps['labelPlacement']>\n> = {\n    placeholder: 'outer',\n    label: 'inner',\n};\n\n/**\n * Поле ввода текста.\n */\nexport const TextField = forwardRef<HTMLInputElement, CustomTextFieldProps>((props, ref) => {\n    const {\n        status,\n\n        label,\n        placeholder,\n        animatedHint,\n        helperText,\n\n        enumerationType,\n        chips,\n        onSearch,\n        onChangeChips,\n\n        size = 'l',\n\n        ...rest\n    } = props;\n\n    /** TODO: #1064 Remove In plasma-2.0 */\n    /* eslint-disable no-underscore-dangle */\n    const _view = status ? statusToView[status] : 'default';\n    let _labelPlacement = animatedHint ? animatedHintToLabelPlacement[animatedHint] : 'outer';\n    let _label = label ? String(label) : undefined;\n    if (size !== 'l' && _labelPlacement === 'inner') {\n        _label = undefined;\n        _labelPlacement = 'outer';\n    }\n    if (size === 'l' && animatedHint === 'placeholder' && !label) {\n        _label = placeholder;\n        _labelPlacement = 'inner';\n    }\n    const _size = size === 'xs' ? 's' : size;\n\n    if (enumerationType === 'chip') {\n        return (\n            <TextFieldComponent\n                {...rest}\n                view={_view}\n                size={_size}\n                labelPlacement={_labelPlacement}\n                label={_label}\n                placeholder={placeholder}\n                leftHelper={helperText}\n                ref={ref}\n                enumerationType=\"chip\"\n                chips={chips}\n                onChangeChips={onChangeChips}\n            />\n        );\n    }\n\n    return (\n        <TextFieldComponent\n            {...rest}\n            view={_view}\n            size={_size}\n            labelPlacement={_labelPlacement}\n            label={_label}\n            placeholder={placeholder}\n            leftHelper={helperText}\n            ref={ref}\n            enumerationType=\"plain\"\n            onSearch={onSearch}\n        />\n    );\n});\n"],"names":["mergedConfig","mergeConfig","textFieldConfig","config","TextFieldComponent","component","statusToView","success","warning","error","animatedHintToLabelPlacement","placeholder","label","TextField","forwardRef","props","ref","status","animatedHint","helperText","enumerationType","chips","onSearch","onChangeChips","_props$size","size","rest","_objectWithoutProperties","_excluded","_view","_labelPlacement","_label","String","undefined","_size","React","createElement","_extends","view","labelPlacement","leftHelper"],"mappings":"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"}