"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IS_REACT_18 = void 0;
exports.safeFlushSync = safeFlushSync;
exports.safeUseId = void 0;
var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));
var _reactDom = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react-dom"));
var _useUniqId = /*#__PURE__*/require("../hooks/useUniqId");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
// NOTE: для next.js важно, чтобы путь до хука был полный, т.к. есть проблемы с ре-экспортом

// TODO: https://github.com/salute-developers/plasma/issues/233
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var _ref = _reactDom["default"],
  flushSync = _ref.flushSync;
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var _ref2 = _react["default"],
  useId = _ref2.useId;
var IS_REACT_18 = exports.IS_REACT_18 = /*#__PURE__*/_reactDom["default"].version.split('.')[0] === '18';
function safeFlushSync(fn) {
  if (!IS_REACT_18) {
    return fn();
  }
  return flushSync(fn);
}
var safeUseId = exports.safeUseId = !IS_REACT_18 ? _useUniqId.useUniqId : useId;