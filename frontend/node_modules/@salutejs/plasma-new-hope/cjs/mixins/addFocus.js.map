{"version":3,"file":"addFocus.js","sources":["../../src/mixins/addFocus.ts"],"sourcesContent":["import 'focus-visible';\n\nexport type FocusProps = {\n    /**\n     * Размер фокусной рамки\n     */\n    outlineSize?: string;\n    /**\n     * Отступ фокусной рамки от родителя\n     */\n    outlineOffset?: string;\n    /**\n     * Цвет фокусной рамки\n     */\n    outlineColor?: string;\n    /**\n     * Радиус фокусной рамки\n     */\n    outlineRadius?: string;\n    /**\n     * Применять анимации для отрисовки фокуса\n     */\n    hasTransition?: boolean;\n    /**\n     * Уникальные css свойства для псевдо-элемента before при фокусе\n     */\n    customFocusRules?: string;\n};\n\n/**\n * Миксин для добавления фокусной рамки к элементу через псевдоэлемент before\n * @param {FocusProps} props\n * @example\n * // Выведет фокусную рамку размером 2em, скруглением 5em, отступом 2em и цветом 'rebeccapurple'.\n * addFocus({\n *  outlineSize: '2em',\n *  outlineOffset: '2em',\n *  outlineRadius: '5em',\n *  outlineColor: 'rebeccapurple',\n * });\n * @example\n * // Выведет outline размером 4em, скруглением 10px 1px, без отступа и цветом 'greenyellow'.\n * addFocus({\n *  outlineSize: '4em',\n *  outlineOffset: '0',\n *  outlineRadius: '10em 1em',\n *  outlineColor: 'greenyellow',\n * });\n */\nexport const addFocus = (args: FocusProps) => {\n    const {\n        customFocusRules,\n        outlineSize = '0.125rem',\n        outlineOffset = '-0.125rem',\n        outlineColor = 'var(--plasma-colors-button-focused, var(--text-accent))',\n        outlineRadius = '30px',\n        hasTransition = true,\n    } = args;\n\n    return `\n        position: relative;\n\n        &::before {\n            content: '';\n\n            position: absolute;\n            top: ${outlineOffset};\n            left: ${outlineOffset};\n            right: ${outlineOffset};\n            bottom: ${outlineOffset};\n            z-index: 1;\n\n            display: block;\n            box-sizing: content-box;\n\n            border: ${outlineSize} solid transparent;\n            border-radius: ${outlineRadius};\n\n            transition: ${hasTransition ? 'box-shadow 0.2s ease-in-out' : 'none'};\n\n            pointer-events: none;\n        }\n\n        ${getCustomFocusStyle(outlineSize, outlineColor, customFocusRules)}\n    `;\n};\n\nconst getCustomFocusStyle = (outlineSize: string, outlineColor: string, customFocusRules?: string) => {\n    if (!customFocusRules) {\n        return `\n            &.focus-visible:focus,\n            &[data-focus-visible-added] {\n                &::before {\n                    outline: none;\n                    box-shadow: 0 0 0 ${outlineSize} ${outlineColor};\n                }\n            }\n        `;\n    }\n\n    return customFocusRules;\n};\n"],"names":["addFocus","args","customFocusRules","_args$outlineSize","outlineSize","_args$outlineOffset","outlineOffset","_args$outlineColor","outlineColor","_args$outlineRadius","outlineRadius","_args$hasTransition","hasTransition","concat","getCustomFocusStyle"],"mappings":";;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACaA,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAAgB,EAAK;AAC1C,EAAA,IACIC,gBAAgB,GAMhBD,IAAI,CANJC,gBAAgB;IAAAC,iBAAA,GAMhBF,IAAI,CALJG,WAAW;AAAXA,IAAAA,WAAW,GAAAD,iBAAA,KAAG,KAAA,CAAA,GAAA,UAAU,GAAAA,iBAAA;IAAAE,mBAAA,GAKxBJ,IAAI,CAJJK,aAAa;AAAbA,IAAAA,aAAa,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,WAAW,GAAAA,mBAAA;IAAAE,kBAAA,GAI3BN,IAAI,CAHJO,YAAY;AAAZA,IAAAA,YAAY,GAAAD,kBAAA,KAAG,KAAA,CAAA,GAAA,yDAAyD,GAAAA,kBAAA;IAAAE,mBAAA,GAGxER,IAAI,CAFJS,aAAa;AAAbA,IAAAA,aAAa,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,MAAM,GAAAA,mBAAA;IAAAE,mBAAA,GAEtBV,IAAI,CADJW,aAAa;AAAbA,IAAAA,aAAa,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,mBAAA,CAAA;AAGxB,EAAA,OAAA,sIAAA,CAAAE,MAAA,CAOeP,aAAa,2BAAAO,MAAA,CACZP,aAAa,EAAAO,wBAAAA,CAAAA,CAAAA,MAAA,CACZP,aAAa,6BAAAO,MAAA,CACZP,aAAa,EAAAO,yHAAAA,CAAAA,CAAAA,MAAA,CAMbT,WAAW,EAAA,kDAAA,CAAA,CAAAS,MAAA,CACJH,aAAa,EAAAG,+BAAAA,CAAAA,CAAAA,MAAA,CAEhBD,aAAa,GAAG,6BAA6B,GAAG,MAAM,mEAAAC,MAAA,CAKtEC,mBAAmB,CAACV,WAAW,EAAEI,YAAY,EAAEN,gBAAgB,CAAC,EAAA,QAAA,CAAA,CAAA;AAE1E,EAAC;AAED,IAAMY,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIV,WAAmB,EAAEI,YAAoB,EAAEN,gBAAyB,EAAK;EAClG,IAAI,CAACA,gBAAgB,EAAE;AACnB,IAAA,OAAA,0LAAA,CAAAW,MAAA,CAKgCT,WAAW,EAAAS,GAAAA,CAAAA,CAAAA,MAAA,CAAIL,YAAY,EAAA,+CAAA,CAAA,CAAA;AAI/D,GAAA;AAEA,EAAA,OAAON,gBAAgB,CAAA;AAC3B,CAAC;;;;"}