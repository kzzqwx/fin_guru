{"version":3,"file":"Toast.js","sources":["../../../src/components/Toast/Toast.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\n\nimport type { RootProps } from '../../engines';\nimport { cx } from '../../utils';\nimport { IconCross } from '../_Icon/Icons/IconCross';\n\nimport { classes } from './Toast.tokens';\nimport { base as viewCSS } from './variations/_view/base';\nimport { base as sizeCSS } from './variations/_size/base';\nimport { base as pilledCSS } from './variations/_pilled/base';\nimport { ToastProps } from './Toast.types';\nimport { CloseIconWrapper, StyledContent, StyledContentLeft, base } from './Toast.styles';\n\n// TODO https://github.com/salute-developers/plasma/issues/1015\nexport const toastRoot = (Root: RootProps<HTMLDivElement, ToastProps>) =>\n    forwardRef<HTMLDivElement, ToastProps>((props, ref) => {\n        const {\n            role = 'status',\n            width,\n            text,\n            hasClose,\n            contentLeft,\n            view,\n            size,\n            pilled,\n            className,\n            style,\n            onCloseButtonClick,\n            ...rest\n        } = props;\n\n        const pilledClass = pilled ? classes.toastPilled : undefined;\n        const fixedWidth = !Number.isNaN(Number(width)) ? `${width}%` : width;\n\n        let ariaLive: 'assertive' | 'polite' = 'polite';\n        let ariaAtomic = false;\n\n        if (role === 'alert') {\n            ariaLive = 'assertive';\n        } else if (role === 'status') {\n            ariaAtomic = true;\n        }\n\n        return (\n            <Root\n                view={view}\n                size={size}\n                pilled={pilled}\n                className={cx(pilledClass, className)}\n                style={{ width: width ? fixedWidth : 'unset', ...style }}\n                ref={ref}\n                role={role}\n                aria-live={ariaLive}\n                aria-atomic={ariaAtomic}\n                {...rest}\n            >\n                {contentLeft && <StyledContentLeft>{contentLeft}</StyledContentLeft>}\n                <StyledContent>{text}</StyledContent>\n                {hasClose && (\n                    <CloseIconWrapper\n                        view=\"clear\"\n                        size=\"s\"\n                        onClick={onCloseButtonClick}\n                        className={cx(classes.closeIcon)}\n                        stretching=\"fixed\"\n                    >\n                        <IconCross size=\"s\" color=\"inherit\" />\n                    </CloseIconWrapper>\n                )}\n            </Root>\n        );\n    });\n\nexport const toastConfig = {\n    name: 'Toast',\n    tag: 'div',\n    layout: toastRoot,\n    base,\n    variations: {\n        view: {\n            css: viewCSS,\n        },\n        size: {\n            css: sizeCSS,\n        },\n        pilled: {\n            css: pilledCSS,\n            attrs: true,\n        },\n    },\n    defaults: {\n        view: 'primary',\n        size: 'm',\n    },\n};\n"],"names":["toastRoot","Root","forwardRef","props","ref","_props$role","role","width","text","hasClose","contentLeft","view","size","pilled","className","style","onCloseButtonClick","rest","_objectWithoutProperties","_excluded","pilledClass","classes","toastPilled","undefined","fixedWidth","Number","isNaN","concat","ariaLive","ariaAtomic","React","createElement","_extends","cx","_objectSpread","StyledContentLeft","StyledContent","CloseIconWrapper","onClick","closeIcon","stretching","_IconCross","IconCross","color","toastConfig","name","tag","layout","base","variations","css","viewCSS","sizeCSS","pilledCSS","attrs","defaults"],"mappings":"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"}