{"version":3,"file":"Radiobox.js","sources":["../../../src/components/Radiobox/Radiobox.tsx"],"sourcesContent":["import React, { forwardRef, useMemo } from 'react';\nimport { safeUseId, extractTextFrom } from '@salutejs/plasma-core';\n\nimport type { InputHTMLAttributes } from '../../types';\nimport type { Filter, RootProps } from '../../engines/types';\nimport {\n    StyledContentWrapper,\n    StyledDescription,\n    StyledInput,\n    StyledLabel,\n    StyledContent,\n    StyledTrigger,\n} from '../Checkbox/Checkbox.styles';\nimport { BaseboxProps } from '../Checkbox/Checkbox.types';\nimport { cx } from '../../utils';\n\nimport { base as viewCSS } from './variations/_view/base';\nimport { base as sizeCSS } from './variations/_size/base';\nimport { base as disabledCSS } from './variations/_disabled/base';\nimport { base as focusedCSS } from './variations/_focused/base';\nimport { StyledEllipse, base } from './Radiobox.styles';\nimport { classes } from './Radiobox.tokens';\n\ntype RadioboxProps = Filter<InputHTMLAttributes<HTMLInputElement>, 'size'> & Omit<BaseboxProps, 'indeterminate'>;\n\nexport const radioboxRoot = (Root: RootProps<HTMLInputElement, RadioboxProps>) =>\n    forwardRef<HTMLInputElement, RadioboxProps>((props, ref) => {\n        const {\n            size,\n            view,\n            focused,\n            disabled,\n            id,\n            label,\n            description,\n            style,\n            className,\n            singleLine = false,\n            'aria-label': ariaLabelExternal,\n            ...rest\n        } = props;\n\n        const uniqId = safeUseId();\n        const uniqLabelId = `label-${uniqId}`;\n        const uniqDescriptionId = `description-${uniqId}`;\n        const radioboxId = id || `input-${uniqId}`;\n\n        const ariaLabel = useMemo(() => ariaLabelExternal || extractTextFrom(label), [ariaLabelExternal, label]);\n        const isLabelAriaHidden = typeof label === 'string';\n        const canFocused = focused ? 0 : -1;\n        const hasContent = label || description;\n        const singleLineClass = singleLine ? classes.singleLine : undefined;\n        const onlyDescriptionClass = !label && description ? classes.onlyDescription : undefined;\n\n        return (\n            <Root\n                view={view}\n                size={size}\n                disabled={disabled}\n                focused={focused}\n                style={style}\n                className={className}\n                tabIndex={-1}\n            >\n                <StyledInput\n                    {...rest}\n                    id={radioboxId}\n                    ref={ref}\n                    type=\"radio\"\n                    disabled={disabled}\n                    aria-label={ariaLabel}\n                    aria-describedby={uniqDescriptionId}\n                    tabIndex={canFocused}\n                />\n                <StyledContentWrapper htmlFor={radioboxId}>\n                    <StyledTrigger className={classes.radioboxTrigger}>\n                        <StyledEllipse />\n                    </StyledTrigger>\n                    {hasContent && (\n                        <StyledContent className={singleLineClass}>\n                            {label && (\n                                <StyledLabel\n                                    className={cx(singleLineClass, onlyDescriptionClass)}\n                                    id={uniqLabelId}\n                                    aria-hidden={isLabelAriaHidden}\n                                >\n                                    {label}\n                                </StyledLabel>\n                            )}\n                            {description && (\n                                <StyledDescription className={singleLineClass} id={uniqDescriptionId}>\n                                    {description}\n                                </StyledDescription>\n                            )}\n                        </StyledContent>\n                    )}\n                </StyledContentWrapper>\n            </Root>\n        );\n    });\n\nexport const radioboxConfig = {\n    name: 'Radiobox',\n    tag: 'div',\n    layout: radioboxRoot,\n    base,\n    variations: {\n        size: {\n            css: sizeCSS,\n        },\n        view: {\n            css: viewCSS,\n        },\n        disabled: {\n            css: disabledCSS,\n        },\n        focused: {\n            css: focusedCSS,\n        },\n    },\n    defaults: {\n        size: 'm',\n        view: 'accent',\n    },\n};\n"],"names":["radioboxRoot","Root","forwardRef","props","ref","size","view","focused","disabled","id","label","description","style","className","_props$singleLine","singleLine","ariaLabelExternal","rest","_objectWithoutProperties","_excluded","uniqId","safeUseId","uniqLabelId","concat","uniqDescriptionId","radioboxId","ariaLabel","useMemo","extractTextFrom","isLabelAriaHidden","canFocused","hasContent","singleLineClass","classes","undefined","onlyDescriptionClass","onlyDescription","React","createElement","tabIndex","StyledInput","_extends","type","StyledContentWrapper","htmlFor","StyledTrigger","radioboxTrigger","_StyledEllipse","StyledEllipse","StyledContent","StyledLabel","cx","StyledDescription","radioboxConfig","name","tag","layout","base","variations","css","sizeCSS","viewCSS","disabledCSS","focusedCSS","defaults"],"mappings":"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"}