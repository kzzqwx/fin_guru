{"version":3,"file":"DropdownItemOld.js","sources":["../../../../../src/components/Dropdown/ui/DropdownItemOld/DropdownItemOld.tsx"],"sourcesContent":["import React, { forwardRef, useCallback, useMemo } from 'react';\nimport { safeUseId } from '@salutejs/plasma-core';\n\nimport { RootProps } from '../../../../engines';\nimport { classes } from '../../Dropdown.tokens';\nimport { cx } from '../../../../utils';\nimport { getValidComponent } from '../../utils';\n\nimport { base as viewCSS } from './variations/_view/base';\nimport { base as sizeCSS } from './variations/_size/base';\nimport { StyledContentLeft, StyledContentRight, StyledText, base } from './DropdownItem.styles';\nimport type { DropdownItemProps } from './DropdownItem.type';\n\n/**\n * Элемент выпадающего списка\n */\nexport const dropdownItemOldRoot = (Root: RootProps<HTMLDivElement, DropdownItemProps>) =>\n    forwardRef<HTMLDivElement, DropdownItemProps>(\n        (\n            {\n                id,\n                className,\n                children,\n                text,\n                isSelected,\n                name,\n                checked,\n                value,\n                role,\n                view,\n                size,\n                disabled,\n                contentLeft: ContentLeftComponent,\n                contentRight: ContentRightComponent,\n                onSelect,\n                onClick,\n                onChange,\n                ...rest\n            },\n            outerRootRef,\n        ) => {\n            const uniqId = safeUseId();\n            const innerId = id || uniqId;\n\n            const withDropdownItemIsSelected = checked || isSelected ? classes.dropdownItemIsSelected : undefined;\n            const withDropdownItemIsDisabled = disabled ? classes.dropdownItemIsDisabled : undefined;\n\n            const handleOnClick = useCallback(\n                (event: React.MouseEvent<HTMLDivElement>) => {\n                    if (disabled) {\n                        return;\n                    }\n\n                    onClick?.(event);\n\n                    if (onSelect && !ContentLeftComponent) {\n                        onSelect(value, text);\n                    }\n                },\n                [onSelect, disabled],\n            );\n\n            const handleOnChange = useCallback(\n                (event: React.MouseEvent<HTMLInputElement>) => {\n                    if (disabled) {\n                        return;\n                    }\n\n                    onChange?.(event);\n\n                    if (onSelect && ContentLeftComponent) {\n                        onSelect(value, text);\n                    }\n                },\n                [onSelect, disabled],\n            );\n\n            const contentProps = {\n                name,\n                value,\n                checked: checked || isSelected,\n                disabled,\n                tabIndex: 0,\n                ...(!disabled && { onChange: handleOnChange }),\n            };\n\n            const ContentLeft = useMemo(() => getValidComponent(ContentLeftComponent, contentProps), [\n                ContentRightComponent,\n                contentProps,\n            ]);\n\n            const ContentRight = useMemo(() => getValidComponent(ContentRightComponent, contentProps), [\n                ContentRightComponent,\n                contentProps,\n            ]);\n\n            return (\n                <Root\n                    className={cx(withDropdownItemIsSelected, withDropdownItemIsDisabled, className)}\n                    view={view}\n                    size={size}\n                    id={innerId}\n                    isSelected={isSelected}\n                    role={role}\n                    ref={outerRootRef}\n                    tabIndex={0}\n                    aria-disabled={disabled}\n                    onClick={handleOnClick}\n                    data-value={value}\n                    {...rest}\n                >\n                    {text ? (\n                        <>\n                            <StyledContentLeft>{ContentLeftComponent && ContentLeft}</StyledContentLeft>\n                            <StyledText>{text}</StyledText>\n                            <StyledContentRight>{ContentRightComponent && ContentRight}</StyledContentRight>\n                        </>\n                    ) : (\n                        children\n                    )}\n                </Root>\n            );\n        },\n    );\n\nexport const dropdownItemOldConfig = {\n    name: 'DropdownItem',\n    tag: 'div',\n    layout: dropdownItemOldRoot,\n    base,\n    variations: {\n        view: {\n            css: viewCSS,\n        },\n        size: {\n            css: sizeCSS,\n        },\n    },\n    defaults: {\n        view: 'primary',\n        size: 'm',\n    },\n};\n"],"names":["dropdownItemOldRoot","Root","forwardRef","_ref","outerRootRef","id","className","children","text","isSelected","name","checked","value","role","view","size","disabled","ContentLeftComponent","contentLeft","ContentRightComponent","contentRight","onSelect","onClick","onChange","rest","_objectWithoutProperties","_excluded","uniqId","safeUseId","innerId","withDropdownItemIsSelected","classes","dropdownItemIsSelected","undefined","withDropdownItemIsDisabled","dropdownItemIsDisabled","handleOnClick","useCallback","event","handleOnChange","contentProps","_objectSpread","tabIndex","ContentLeft","useMemo","getValidComponent","ContentRight","React","createElement","_extends","cx","ref","Fragment","StyledContentLeft","StyledText","StyledContentRight","dropdownItemOldConfig","tag","layout","base","variations","css","viewCSS","sizeCSS","defaults"],"mappings":"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"}