{"version":3,"file":"SegmentProvider.js","sources":["../../../../src/components/Segment/SegmentProvider/SegmentProvider.tsx"],"sourcesContent":["import React, { createContext, useCallback, useContext, useEffect, useState } from 'react';\nimport type { FC, PropsWithChildren } from 'react';\n\nimport { SegmentContextType, SegmentSelectionMode } from './SegmentProvider.types';\n\nexport const SegmentContext = createContext<SegmentContextType | undefined>(undefined);\n\nexport const useSegmentInner = () => {\n    const context = useContext(SegmentContext);\n    if (!context) {\n        throw new Error('useSegment must be used within a SegmentProvider');\n    }\n    return context;\n};\n\nexport const useSegment = () => {\n    const { selectedSegmentItems } = useSegmentInner();\n    return { selectedSegmentItems };\n};\n\nexport const SegmentProvider: FC<PropsWithChildren> = ({ children }) => {\n    const [selectedSegmentItems, setSelectedSegmentItems] = useState<string[]>([]);\n    const [selectionMode, setSelectionMode] = useState<SegmentSelectionMode>('single');\n    const [disabledGroup, setDisabledGroup] = useState(false);\n\n    const handleSelect = useCallback(\n        (label: string) => {\n            if (selectionMode !== 'multiple') {\n                setSelectedSegmentItems((prevSelected) => (prevSelected.includes(label) ? [] : [label]));\n                return;\n            }\n\n            setSelectedSegmentItems((prevSelected) =>\n                prevSelected.includes(label) ? prevSelected.filter((item) => item !== label) : [...prevSelected, label],\n            );\n        },\n        [selectionMode, setSelectedSegmentItems],\n    );\n\n    const contextValue: SegmentContextType = {\n        selectedSegmentItems,\n        handleSelect,\n        selectionMode,\n        setSelectionMode,\n        disabledGroup,\n        setDisabledGroup,\n    };\n\n    useEffect(() => {\n        setSelectedSegmentItems([]);\n    }, [selectionMode]);\n\n    return <SegmentContext.Provider value={contextValue}>{children}</SegmentContext.Provider>;\n};\n"],"names":["SegmentContext","createContext","undefined","useSegmentInner","context","useContext","Error","useSegment","_useSegmentInner","selectedSegmentItems","SegmentProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","setSelectedSegmentItems","_useState3","_useState4","selectionMode","setSelectionMode","_useState5","_useState6","disabledGroup","setDisabledGroup","handleSelect","useCallback","label","prevSelected","includes","filter","item","concat","_toConsumableArray","contextValue","useEffect","React","createElement","Provider","value"],"mappings":"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"}