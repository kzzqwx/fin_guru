{"version":3,"file":"Image.js","sources":["../../../src/components/Image/Image.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport type { HTMLAttributes } from 'react';\n\nimport type { RootProps } from '../../engines';\n\nimport { StyledDivImg, StyledImg, base as baseCSS } from './Image.styles';\nimport type { ImageProps } from './Image.types';\nimport { ratios } from './Image.utils';\n\n/**\n * Компонент для отображения картинок.\n */\nexport const imageRoot = (Root: RootProps<HTMLDivElement, HTMLAttributes<HTMLDivElement>>) =>\n    forwardRef<HTMLDivElement, ImageProps>(\n        (\n            { src, srcSet, sizes, ratio, customRatio, alt, width, height, base = 'img', style, ...rest },\n            outerRootRef,\n        ) => {\n            const widthToken = {\n                '--plasma_private-image-width': width || '100%',\n            };\n            const heightToken = {\n                '--plasma_private-image-height': height || '0',\n            };\n            const rootCustomRatio = customRatio ? `${customRatio}%` : 'unset';\n            const ratioToken = {\n                '--plasma_private-image-pading-bottom': ratio ? `${ratios[ratio]}%` : rootCustomRatio,\n            };\n\n            return (\n                <Root\n                    ref={outerRootRef}\n                    style={{\n                        ...style,\n                        ...widthToken,\n                        ...heightToken,\n                        ...ratioToken,\n                    }}\n                    {...rest}\n                >\n                    {base === 'img' && <StyledImg src={src} srcSet={srcSet} sizes={sizes} alt={alt} />}\n                    {base === 'div' && (\n                        <StyledDivImg style={{ backgroundImage: `url(${src})` }} role=\"img\" aria-label={alt} />\n                    )}\n                </Root>\n            );\n        },\n    );\n\nexport const imageConfig = {\n    name: 'Image',\n    tag: 'div',\n    layout: imageRoot,\n    base: baseCSS,\n    variations: {},\n    defaults: {},\n};\n"],"names":["imageRoot","Root","forwardRef","_ref","outerRootRef","src","srcSet","sizes","ratio","customRatio","alt","width","height","_ref$base","base","style","rest","_objectWithoutProperties","_excluded","widthToken","heightToken","rootCustomRatio","concat","ratioToken","ratios","React","createElement","_extends","ref","_objectSpread","StyledImg","StyledDivImg","backgroundImage","role","imageConfig","name","tag","layout","baseCSS","variations","defaults"],"mappings":";;;;;;;;;;;AASA;AACA;AACA;IACaA,SAAS,GAAG,SAAZA,SAASA,CAAIC,IAA+D,EAAA;AAAA,EAAA,oBACrFC,gBAAU,CACN,UAAAC,IAAA,EAEIC,YAAY,EACX;AAAA,IAAA,IAFCC,GAAG,GAAAF,IAAA,CAAHE,GAAG;MAAEC,MAAM,GAAAH,IAAA,CAANG,MAAM;MAAEC,KAAK,GAAAJ,IAAA,CAALI,KAAK;MAAEC,KAAK,GAAAL,IAAA,CAALK,KAAK;MAAEC,WAAW,GAAAN,IAAA,CAAXM,WAAW;MAAEC,GAAG,GAAAP,IAAA,CAAHO,GAAG;MAAEC,KAAK,GAAAR,IAAA,CAALQ,KAAK;MAAEC,MAAM,GAAAT,IAAA,CAANS,MAAM;MAAAC,SAAA,GAAAV,IAAA,CAAEW,IAAI;AAAJA,MAAAA,IAAI,GAAAD,SAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,SAAA;MAAEE,KAAK,GAAAZ,IAAA,CAALY,KAAK;AAAKC,MAAAA,IAAI,GAAAC,iDAAA,CAAAd,IAAA,EAAAe,SAAA,CAAA,CAAA;AAG1F,IAAA,IAAMC,UAAU,GAAG;MACf,8BAA8B,EAAER,KAAK,IAAI,MAAA;KAC5C,CAAA;AACD,IAAA,IAAMS,WAAW,GAAG;MAChB,+BAA+B,EAAER,MAAM,IAAI,GAAA;KAC9C,CAAA;IACD,IAAMS,eAAe,GAAGZ,WAAW,GAAA,EAAA,CAAAa,MAAA,CAAMb,WAAW,SAAM,OAAO,CAAA;AACjE,IAAA,IAAMc,UAAU,GAAG;MACf,sCAAsC,EAAEf,KAAK,GAAAc,EAAAA,CAAAA,MAAA,CAAME,kBAAM,CAAChB,KAAK,CAAC,EAAMa,GAAAA,CAAAA,GAAAA,eAAAA;KACzE,CAAA;AAED,IAAA,oBACII,KAAA,CAAAC,aAAA,CAACzB,IAAI,EAAA0B,iCAAA,CAAA;AACDC,MAAAA,GAAG,EAAExB,YAAa;AAClBW,MAAAA,KAAK,EAAAc,uCAAA,CAAAA,uCAAA,CAAAA,uCAAA,CAAAA,uCAAA,CAAA,EAAA,EACEd,KAAK,CACLI,EAAAA,UAAU,CACVC,EAAAA,WAAW,GACXG,UAAU,CAAA;KAEbP,EAAAA,IAAI,CAEPF,EAAAA,IAAI,KAAK,KAAK,iBAAIW,KAAA,CAAAC,aAAA,CAACI,sBAAS,EAAA;AAACzB,MAAAA,GAAG,EAAEA,GAAI;AAACC,MAAAA,MAAM,EAAEA,MAAO;AAACC,MAAAA,KAAK,EAAEA,KAAM;AAACG,MAAAA,GAAG,EAAEA,GAAAA;KAAM,CAAC,EACjFI,IAAI,KAAK,KAAK,iBACXW,KAAA,CAAAC,aAAA,CAACK,yBAAY,EAAA;AAAChB,MAAAA,KAAK,EAAE;QAAEiB,eAAe,EAAA,MAAA,CAAAV,MAAA,CAASjB,GAAG,EAAA,GAAA,CAAA;OAAM;AAAC4B,MAAAA,IAAI,EAAC,KAAK;MAAC,YAAYvB,EAAAA,GAAAA;AAAI,KAAE,CAExF,CAAC,CAAA;AAEf,GACJ,CAAC,CAAA;AAAA,EAAA;AAEE,IAAMwB,WAAW,GAAG;AACvBC,EAAAA,IAAI,EAAE,OAAO;AACbC,EAAAA,GAAG,EAAE,KAAK;AACVC,EAAAA,MAAM,EAAErC,SAAS;AACjBc,EAAAA,IAAI,EAAEwB,iBAAO;EACbC,UAAU,EAAE,EAAE;AACdC,EAAAA,QAAQ,EAAE,EAAC;AACf;;;;;"}