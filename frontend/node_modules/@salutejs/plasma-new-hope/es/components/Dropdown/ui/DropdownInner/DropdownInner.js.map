{"version":3,"file":"DropdownInner.js","sources":["../../../../../src/components/Dropdown/ui/DropdownInner/DropdownInner.tsx"],"sourcesContent":["import React from 'react';\nimport type { FC } from 'react';\n\nimport { DropdownItem } from '..';\nimport { Ul, StyledPopover } from '../../Dropdown.styles';\n\nimport { DropdownInnerProps } from './DropdownInner.type';\n\nconst DropdownInner: FC<DropdownInnerProps> = ({\n    item,\n    currentLevel,\n    focusedPath,\n    path,\n    dispatchPath,\n    index,\n    trigger,\n    itemRole,\n    listHeight,\n    listOverflow,\n    handleGlobalToggle,\n    closeOnSelect,\n    onHover,\n    onItemSelect,\n    onItemClick,\n    listWidth,\n    variant,\n    hasArrow,\n}) => {\n    const handleToggle = (opened: boolean): void => {\n        if (opened) {\n            dispatchPath({ type: 'changed_on_level', value: item.value.toString(), level: currentLevel + 1 });\n        } else {\n            dispatchPath({ type: 'cut_by_level', level: currentLevel + 1 });\n        }\n    };\n\n    const isCurrentListOpen = path[currentLevel + 1] === item.value.toString();\n\n    const listId = `tree_level_${currentLevel + 2}`;\n    const nextLevel = currentLevel + 1;\n\n    if (item?.items) {\n        return (\n            <StyledPopover\n                isOpen={isCurrentListOpen}\n                usePortal={false}\n                placement=\"right-start\"\n                trigger={trigger}\n                target={\n                    <DropdownItem\n                        item={item}\n                        index={index}\n                        path={path}\n                        focusedPath={focusedPath}\n                        currentLevel={currentLevel}\n                        itemRole={itemRole}\n                        onHover={onHover}\n                        onItemSelect={onItemSelect}\n                        onItemClick={onItemClick}\n                        variant={variant}\n                        hasArrow={hasArrow}\n                        ariaControls={listId}\n                        ariaExpanded={isCurrentListOpen}\n                        ariaLevel={nextLevel}\n                        ariaLabel={item.label}\n                    />\n                }\n                onToggle={handleToggle}\n                isFocusTrapped={false}\n                preventOverflow={false}\n            >\n                <Ul\n                    listHeight={listHeight}\n                    listOverflow={listOverflow}\n                    role=\"group\"\n                    id={listId}\n                    listWidth={listWidth}\n                    isInnerUl\n                >\n                    {item.items.map((innerItem, innerIndex) => (\n                        <DropdownInner\n                            key={`${innerIndex}/${currentLevel}`}\n                            item={innerItem}\n                            currentLevel={nextLevel}\n                            focusedPath={focusedPath}\n                            path={path}\n                            dispatchPath={dispatchPath}\n                            index={innerIndex}\n                            trigger={trigger}\n                            itemRole={itemRole}\n                            listHeight={listHeight}\n                            listOverflow={listOverflow}\n                            handleGlobalToggle={handleGlobalToggle}\n                            closeOnSelect={closeOnSelect}\n                            onHover={onHover}\n                            onItemSelect={onItemSelect}\n                            onItemClick={onItemClick}\n                            listWidth={listWidth}\n                            variant={variant}\n                            hasArrow={hasArrow}\n                        />\n                    ))}\n                </Ul>\n            </StyledPopover>\n        );\n    }\n\n    return (\n        <DropdownItem\n            item={item}\n            index={index}\n            focusedPath={focusedPath}\n            currentLevel={currentLevel}\n            itemRole={itemRole}\n            handleGlobalToggle={handleGlobalToggle}\n            closeOnSelect={closeOnSelect}\n            onHover={onHover}\n            onItemSelect={onItemSelect}\n            onItemClick={onItemClick}\n            variant={variant}\n        />\n    );\n};\n\nexport { DropdownInner };\n"],"names":["DropdownInner","_ref","item","currentLevel","focusedPath","path","dispatchPath","index","trigger","itemRole","listHeight","listOverflow","handleGlobalToggle","closeOnSelect","onHover","onItemSelect","onItemClick","listWidth","variant","hasArrow","handleToggle","opened","type","value","toString","level","isCurrentListOpen","listId","concat","nextLevel","items","React","createElement","StyledPopover","isOpen","usePortal","placement","target","DropdownItem","ariaControls","ariaExpanded","ariaLevel","ariaLabel","label","onToggle","isFocusTrapped","preventOverflow","Ul","role","id","isInnerUl","map","innerItem","innerIndex","key"],"mappings":"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"}