{"version":3,"file":"DropdownItem.js","sources":["../../../../../src/components/Dropdown/ui/DropdownItem/DropdownItem.tsx"],"sourcesContent":["import React, { useEffect, useRef, FC } from 'react';\n\nimport { classes } from '../../Dropdown.tokens';\nimport { cx } from '../../../../utils';\nimport { IconDisclosureRight } from '../../../_Icon';\n\nimport {\n    StyledContentLeft,\n    StyledContentRight,\n    StyledText,\n    Wrapper,\n    DisclosureIconWrapper,\n} from './DropdownItem.styles';\nimport type { DropdownItemProps } from './DropdownItem.type';\n\nexport const DropdownItem: FC<DropdownItemProps> = ({\n    item,\n    path,\n    focusedPath,\n    currentLevel,\n    index,\n    itemRole,\n    closeOnSelect,\n    handleGlobalToggle,\n    onHover,\n    onItemSelect,\n    onItemClick,\n    ariaControls,\n    ariaExpanded,\n    ariaHasPopup,\n    ariaLevel,\n    ariaLabel,\n    variant,\n    hasArrow,\n}) => {\n    const { value, label, disabled, isDisabled, contentLeft, contentRight } = item;\n\n    const ref = useRef<HTMLLIElement | null>(null);\n\n    const isDisabledClassName = disabled || isDisabled ? classes.dropdownItemIsDisabled : undefined;\n    const focusedClass =\n        currentLevel === focusedPath.length - 1 && index === focusedPath?.[currentLevel]\n            ? classes.dropdownItemIsFocused\n            : undefined;\n    const activeClass = value === path?.[currentLevel + 1] ? classes.dropdownItemIsActive : undefined;\n\n    useEffect(() => {\n        if (focusedClass && ref?.current) {\n            ref.current.scrollIntoView({\n                behavior: 'smooth',\n                block: 'center',\n                inline: 'center',\n            });\n        }\n    }, [focusedClass]);\n\n    const handleClick = (event: React.MouseEvent<HTMLLIElement>): void => {\n        if (disabled || isDisabled) {\n            return;\n        }\n\n        if (onItemSelect) {\n            onItemSelect(item, event);\n        }\n\n        if (onItemClick) {\n            onItemClick(item, event);\n        }\n\n        if (handleGlobalToggle && closeOnSelect) {\n            handleGlobalToggle(false, event);\n        }\n    };\n\n    const handleHover = () => {\n        if (onHover) {\n            onHover(index);\n        }\n    };\n\n    return (\n        <Wrapper\n            className={cx(isDisabledClassName, focusedClass, activeClass)}\n            id={value.toString()}\n            role={itemRole}\n            ref={ref}\n            aria-disabled={disabled || isDisabled}\n            onClick={handleClick}\n            onMouseEnter={handleHover}\n            variant={variant}\n            aria-controls={ariaControls}\n            aria-expanded={ariaExpanded}\n            aria-haspopup={ariaHasPopup}\n            aria-level={ariaLevel}\n            aria-label={ariaLabel}\n        >\n            {contentLeft && <StyledContentLeft>{contentLeft}</StyledContentLeft>}\n            <StyledText>{label}</StyledText>\n            {contentRight && <StyledContentRight>{contentRight}</StyledContentRight>}\n\n            {item.items && hasArrow && (\n                <DisclosureIconWrapper>\n                    <IconDisclosureRight size=\"xs\" color=\"inherit\" />\n                </DisclosureIconWrapper>\n            )}\n        </Wrapper>\n    );\n};\n"],"names":["DropdownItem","_ref","item","path","focusedPath","currentLevel","index","itemRole","closeOnSelect","handleGlobalToggle","onHover","onItemSelect","onItemClick","ariaControls","ariaExpanded","ariaHasPopup","ariaLevel","ariaLabel","variant","hasArrow","value","label","disabled","isDisabled","contentLeft","contentRight","ref","useRef","isDisabledClassName","classes","dropdownItemIsDisabled","undefined","focusedClass","length","dropdownItemIsFocused","activeClass","dropdownItemIsActive","useEffect","current","scrollIntoView","behavior","block","inline","handleClick","event","handleHover","React","createElement","Wrapper","className","cx","id","toString","role","onClick","onMouseEnter","StyledContentLeft","StyledText","StyledContentRight","items","_DisclosureIconWrappe","DisclosureIconWrapper","IconDisclosureRight","size","color"],"mappings":"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"}