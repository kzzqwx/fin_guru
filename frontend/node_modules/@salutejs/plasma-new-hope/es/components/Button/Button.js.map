{"version":3,"file":"Button.js","sources":["../../../src/components/Button/Button.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport type { CSSProperties } from 'react';\n\nimport type { RootProps } from '../../engines';\nimport { convertRoundnessMatrix } from '../../utils/roundness';\nimport { cx } from '../../utils';\n\nimport { base as viewCSS } from './variations/_view/base';\nimport { base as sizeCSS } from './variations/_size/base';\nimport { base as disabledCSS } from './variations/_disabled/base';\nimport { base as focusedCSS } from './variations/_focused/base';\nimport { base as stretchingCSS } from './variations/_stretching/base';\nimport { base as blurredCSS } from './variations/_blurred/base';\nimport type { ButtonProps, ContentPlacementMapper } from './Button.types';\nimport {\n    base,\n    ButtonText,\n    ButtonValue,\n    Loader,\n    LoadWrap,\n    StyledContentLeft,\n    StyledContentRight,\n    StyledSpinner,\n} from './Button.styles';\nimport { classes, tokens } from './Button.tokens';\n\nexport const buttonRoot = (Root: RootProps<HTMLButtonElement, ButtonProps>) =>\n    forwardRef<HTMLButtonElement, ButtonProps>((props, ref) => {\n        const {\n            children,\n            view,\n            size,\n            text,\n            value,\n            contentLeft,\n            contentRight,\n            contentPlacing = 'default',\n            isLoading,\n            loader,\n            stretch,\n            square,\n            pin,\n            disabled,\n            focused,\n            outlined,\n            className,\n            blur,\n            style,\n            stretching = 'auto',\n            ...rest\n        } = props;\n\n        const txt = typeof children === 'string' ? children : text;\n\n        const stretchingClass = stretch\n            ? classes.filledStretching\n            : classes[`${stretching}Stretching` as keyof typeof classes];\n        const contentRelaxedClass = contentPlacing === 'relaxed' ? classes.contentRelaxed : undefined;\n        const squareClass = square ? classes.buttonSquare : undefined;\n        const buttonBorderRadius = pin\n            ? convertRoundnessMatrix(pin, `var(${tokens.buttonRadius})`, `var(${tokens.buttonHeight})`)\n            : `var(${tokens.buttonRadius}, calc(var(${tokens.buttonHeight}) / 4))`;\n\n        const contentPlacingMapper: ContentPlacementMapper = {\n            default: 'center',\n            relaxed: 'space-between',\n        };\n\n        const contentPlacementValue = contentPlacing ? contentPlacingMapper[contentPlacing] : 'center';\n\n        return (\n            <Root\n                type=\"button\"\n                ref={ref}\n                view={view}\n                size={size}\n                value={value}\n                disabled={disabled}\n                focused={focused || outlined}\n                contentPlacing={contentPlacing}\n                className={cx(squareClass, stretchingClass, classes.buttonItem, className)}\n                style={\n                    {\n                        ...style,\n                        '--plasma_computed-btn-br': buttonBorderRadius,\n                        '--plasma_private-blur': blur,\n                    } as CSSProperties\n                }\n                {...rest}\n            >\n                <LoadWrap contentPlacing={contentPlacementValue} isLoading={isLoading}>\n                    {contentLeft && <StyledContentLeft>{contentLeft}</StyledContentLeft>}\n                    {txt ? <ButtonText className={contentRelaxedClass}>{txt}</ButtonText> : children}\n                    {value && <ButtonValue>{value}</ButtonValue>}\n                    {contentRight && <StyledContentRight>{contentRight}</StyledContentRight>}\n                </LoadWrap>\n                {isLoading && <Loader>{loader || <StyledSpinner />}</Loader>}\n            </Root>\n        );\n    });\n\nexport const buttonConfig = {\n    name: 'Button',\n    tag: 'button',\n    layout: buttonRoot,\n    base,\n    variations: {\n        view: {\n            css: viewCSS,\n        },\n        size: {\n            css: sizeCSS,\n        },\n        disabled: {\n            css: disabledCSS,\n            attrs: true,\n        },\n        focused: {\n            css: focusedCSS,\n            // TODO: isLoading => disabled\n        },\n        blurred: {\n            css: blurredCSS,\n        },\n        stretching: {\n            css: stretchingCSS,\n        },\n    },\n    defaults: {\n        view: 'secondary',\n        size: 'm',\n        stretching: 'auto',\n    },\n};\n"],"names":["buttonRoot","Root","forwardRef","props","ref","children","view","size","text","value","contentLeft","contentRight","_props$contentPlacing","contentPlacing","isLoading","loader","stretch","square","pin","disabled","focused","outlined","className","blur","style","_props$stretching","stretching","rest","_objectWithoutProperties","_excluded","txt","stretchingClass","classes","filledStretching","concat","contentRelaxedClass","contentRelaxed","undefined","squareClass","buttonSquare","buttonBorderRadius","convertRoundnessMatrix","tokens","buttonRadius","buttonHeight","contentPlacingMapper","relaxed","contentPlacementValue","React","createElement","_extends","type","cx","buttonItem","_objectSpread","LoadWrap","StyledContentLeft","ButtonText","ButtonValue","StyledContentRight","Loader","_StyledSpinner","StyledSpinner","buttonConfig","name","tag","layout","base","variations","css","viewCSS","sizeCSS","disabledCSS","attrs","focusedCSS","blurred","blurredCSS","stretchingCSS","defaults"],"mappings":"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"}