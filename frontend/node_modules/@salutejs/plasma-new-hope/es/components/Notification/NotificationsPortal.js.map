{"version":3,"file":"NotificationsPortal.js","sources":["../../../src/components/Notification/NotificationsPortal.tsx"],"sourcesContent":["import React, { FC, ForwardRefExoticComponent, RefAttributes, useMemo } from 'react';\nimport { useStoreon } from 'storeon/react';\n\nimport { PopupProvider, popupConfig } from '../Popup';\nimport { component } from '../../engines';\nimport { cx } from '../../utils';\n\nimport { NotificationsState, NotificationsEvents, closeNotification } from './NotificationsStore';\nimport { NotificationPortalProps, NotificationProps } from './Notification.types';\nimport { StyledItemWrapper, StyledRoot } from './Notification.styles';\nimport { classes } from './Notification.tokens';\n\n// issue #823\nconst Popup = component(popupConfig);\n\n/**\n * Обертка для визуального представления уведомлений.\n */\nexport const NotificationsPortal: FC<NotificationPortalProps> = ({ config, frame }) => {\n    const { notifications } = useStoreon<NotificationsState, NotificationsEvents>('notifications');\n\n    const Notification = useMemo(\n        () => component(config) as ForwardRefExoticComponent<NotificationProps & RefAttributes<HTMLDivElement>>,\n        [],\n    );\n\n    return (\n        <PopupProvider>\n            {notifications.length > 0 && (\n                <Popup isOpen frame={frame} placement=\"bottom-right\" zIndex=\"9100\">\n                    <StyledRoot>\n                        {notifications.map(({ id, isHidden, ...rest }) => (\n                            <StyledItemWrapper\n                                key={id}\n                                className={cx(\n                                    isHidden ? classes.notificationItemHidden : classes.notificationItemOpened,\n                                )}\n                                isHidden={isHidden || false}\n                            >\n                                <Notification\n                                    key={id}\n                                    id={id}\n                                    onCloseButtonClick={() => closeNotification(id)}\n                                    {...rest}\n                                />\n                            </StyledItemWrapper>\n                        ))}\n                    </StyledRoot>\n                </Popup>\n            )}\n        </PopupProvider>\n    );\n};\n"],"names":["Popup","component","popupConfig","NotificationsPortal","_ref","config","frame","_useStoreon","useStoreon","notifications","Notification","useMemo","React","createElement","PopupProvider","length","isOpen","placement","zIndex","StyledRoot","map","_ref2","id","isHidden","rest","_objectWithoutProperties","_excluded","StyledItemWrapper","key","className","cx","classes","notificationItemHidden","notificationItemOpened","_extends","onCloseButtonClick","closeNotification"],"mappings":";;;;;;;;;;;;;;AAYA;AACA,IAAMA,KAAK,gBAAGC,SAAS,CAACC,WAAW,CAAC,CAAA;;AAEpC;AACA;AACA;IACaC,mBAAgD,GAAG,SAAnDA,mBAAgDA,CAAAC,IAAA,EAA0B;AAAA,EAAA,IAApBC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK,CAAA;AAC5E,EAAA,IAAAC,WAAA,GAA0BC,UAAU,CAA0C,eAAe,CAAC;IAAtFC,aAAa,GAAAF,WAAA,CAAbE,aAAa,CAAA;EAErB,IAAMC,YAAY,GAAGC,OAAO,CACxB,YAAA;IAAA,OAAMV,SAAS,CAACI,MAAM,CAAC,CAAA;GAAgF,EACvG,EACJ,CAAC,CAAA;AAED,EAAA,oBACIO,KAAA,CAAAC,aAAA,CAACC,aAAa,QACTL,aAAa,CAACM,MAAM,GAAG,CAAC,iBACrBH,KAAA,CAAAC,aAAA,CAACb,KAAK,EAAA;IAACgB,MAAM,EAAA,IAAA;AAACV,IAAAA,KAAK,EAAEA,KAAM;AAACW,IAAAA,SAAS,EAAC,cAAc;AAACC,IAAAA,MAAM,EAAC,MAAA;GACxDN,eAAAA,KAAA,CAAAC,aAAA,CAACM,UAAU,EACNV,IAAAA,EAAAA,aAAa,CAACW,GAAG,CAAC,UAAAC,KAAA,EAAA;AAAA,IAAA,IAAGC,EAAE,GAAAD,KAAA,CAAFC,EAAE;MAAEC,QAAQ,GAAAF,KAAA,CAARE,QAAQ;AAAKC,MAAAA,IAAI,GAAAC,wBAAA,CAAAJ,KAAA,EAAAK,SAAA,CAAA,CAAA;AAAA,IAAA,oBACvCd,KAAA,CAAAC,aAAA,CAACc,iBAAiB,EAAA;AACdC,MAAAA,GAAG,EAAEN,EAAG;AACRO,MAAAA,SAAS,EAAEC,EAAE,CACTP,QAAQ,GAAGQ,OAAO,CAACC,sBAAsB,GAAGD,OAAO,CAACE,sBACxD,CAAE;MACFV,QAAQ,EAAEA,QAAQ,IAAI,KAAA;AAAM,KAAA,eAE5BX,KAAA,CAAAC,aAAA,CAACH,YAAY,EAAAwB,QAAA,CAAA;AACTN,MAAAA,GAAG,EAAEN,EAAG;AACRA,MAAAA,EAAE,EAAEA,EAAG;MACPa,kBAAkB,EAAE,SAAAA,kBAAA,GAAA;QAAA,OAAMC,iBAAiB,CAACd,EAAE,CAAC,CAAA;AAAA,OAAA;KAC3CE,EAAAA,IAAI,CACX,CACc,CAAC,CAAA;GACvB,CACO,CACT,CAEA,CAAC,CAAA;AAExB;;;;"}