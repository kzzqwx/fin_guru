{"version":3,"file":"ComboboxItem.js","sources":["../../../../../src/components/Combobox/ui/ComboboxItem/ComboboxItem.tsx"],"sourcesContent":["import React, { forwardRef, useCallback, useMemo } from 'react';\nimport { safeUseId } from '@salutejs/plasma-core';\n\nimport type { RootProps } from '../../../../engines';\nimport { classes } from '../../Combobox.tokens';\nimport { getValidComponent } from '../../utils';\nimport { cx } from '../../../../utils';\n\nimport { base as viewCSS } from './variations/_view/base';\nimport { base as sizeCSS } from './variations/_size/base';\nimport { StyledContentLeft, StyledContentRight, StyledText, base } from './ComboboxItem.styles';\nimport { ComboboxItemProps } from './ComboboxItem.type';\n\nexport const comboboxItemRoot = (Root: RootProps<HTMLDivElement, ComboboxItemProps>) =>\n    forwardRef<HTMLDivElement, ComboboxItemProps>(\n        (\n            {\n                id,\n                className,\n                children,\n                text,\n                isSelected,\n                name,\n                checked,\n                value,\n                view,\n                size,\n                disabled,\n                role = 'option',\n                contentLeft: ContentLeftComponent,\n                contentRight: ContentRightComponent,\n                onSelect,\n                onClick,\n                onChange,\n                ...rest\n            },\n            outerRootRef,\n        ) => {\n            const uniqId = safeUseId();\n            const innerId = id || uniqId;\n\n            const withComboboxItemIsSelected = checked || isSelected ? classes.comboboxItemIsDisabled : undefined;\n            const withComboboxItemIsDisabled = disabled ? classes.comboboxItemIsDisabled : undefined;\n\n            const handleOnClick = useCallback(\n                (event: React.MouseEvent<HTMLDivElement>) => {\n                    if (disabled) {\n                        return;\n                    }\n\n                    onClick?.(event);\n\n                    if (onSelect && !ContentLeftComponent) {\n                        onSelect(value, text);\n                    }\n                },\n                [onSelect, disabled],\n            );\n\n            const handleOnChange = useCallback(\n                (event: React.MouseEvent<HTMLInputElement>) => {\n                    if (disabled) {\n                        return;\n                    }\n\n                    onChange?.(event);\n\n                    if (onSelect && ContentLeftComponent) {\n                        onSelect(value, text);\n                    }\n                },\n                [onSelect, disabled],\n            );\n\n            const contentProps = {\n                name,\n                value,\n                checked: checked || isSelected,\n                disabled,\n                tabIndex: -1,\n                ...(!disabled && { onChange: handleOnChange }),\n            };\n\n            const ContentLeft = useMemo(() => getValidComponent(ContentLeftComponent, contentProps), [\n                ContentRightComponent,\n                contentProps,\n            ]);\n\n            const ContentRight = useMemo(() => getValidComponent(ContentRightComponent, contentProps), [\n                ContentRightComponent,\n                contentProps,\n            ]);\n\n            return (\n                <Root\n                    className={cx(withComboboxItemIsSelected, withComboboxItemIsDisabled, className)}\n                    view={view}\n                    size={size}\n                    id={innerId}\n                    isSelected={isSelected}\n                    role={role}\n                    ref={outerRootRef}\n                    tabIndex={0}\n                    aria-disabled={disabled}\n                    aria-selected={isSelected}\n                    onClick={handleOnClick}\n                    data-value={value}\n                    {...rest}\n                >\n                    {text ? (\n                        <>\n                            <StyledContentLeft>{ContentLeftComponent && ContentLeft}</StyledContentLeft>\n                            <StyledText>{text}</StyledText>\n                            <StyledContentRight>{ContentRightComponent && ContentRight}</StyledContentRight>\n                        </>\n                    ) : (\n                        children\n                    )}\n                </Root>\n            );\n        },\n    );\n\nexport const comboboxItemConfig = {\n    name: 'ComboboxItem',\n    tag: 'div',\n    layout: comboboxItemRoot,\n    base,\n    variations: {\n        view: {\n            css: viewCSS,\n        },\n        size: {\n            css: sizeCSS,\n        },\n    },\n    defaults: {\n        view: 'primary',\n        size: 'm',\n    },\n};\n"],"names":["comboboxItemRoot","Root","forwardRef","_ref","outerRootRef","id","className","children","text","isSelected","name","checked","value","view","size","disabled","_ref$role","role","ContentLeftComponent","contentLeft","ContentRightComponent","contentRight","onSelect","onClick","onChange","rest","_objectWithoutProperties","_excluded","uniqId","safeUseId","innerId","withComboboxItemIsSelected","classes","comboboxItemIsDisabled","undefined","withComboboxItemIsDisabled","handleOnClick","useCallback","event","handleOnChange","contentProps","_objectSpread","tabIndex","ContentLeft","useMemo","getValidComponent","ContentRight","React","createElement","_extends","cx","ref","Fragment","StyledContentLeft","StyledText","StyledContentRight","comboboxItemConfig","tag","layout","base","variations","css","viewCSS","sizeCSS","defaults"],"mappings":"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"}