"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lookupMissingVariables = void 0;
var lookupMissingVariables = function (intent, intents, variables) {
    var _a;
    var missing = [];
    var vars = ((_a = intents[intent]) === null || _a === void 0 ? void 0 : _a.variables) || {};
    Object.keys(vars).forEach(function (v) {
        var _a = vars[v], questions = _a.questions, required = _a.required, entity = _a.entity;
        if (questions && (questions === null || questions === void 0 ? void 0 : questions.length) && required && variables[v] === undefined) {
            var questionNo = Math.floor(Math.random() * questions.length);
            missing.push({ name: v, question: questions[questionNo], entity: entity });
        }
    });
    return missing;
};
exports.lookupMissingVariables = lookupMissingVariables;
